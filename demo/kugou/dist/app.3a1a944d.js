(function(t){function e(e){for(var n,r,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)r=o[d],a[r]&&p.push(a[r][0]),a[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],n=!0,o=1;o<s.length;o++){var c=s[o];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var n={},a={1:0},i=[];function r(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=n,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([31,0]),s()})({"/kWC":function(t,e,s){"use strict";var n=s("9CDD"),a=s.n(n);a.a},"/psH":function(t,e,s){"use strict";var n=s("h1ze"),a=s.n(n);a.a},"0q6r":function(t,e,s){},"1rUu":function(t,e,s){},31:function(t,e,s){t.exports=s("Vtdi")},"3xKy":function(t,e,s){"use strict";var n=s("CdDZ"),a=s.n(n);a.a},"9CDD":function(t,e,s){},"9oDX":function(t,e,s){},ABLq:function(t,e,s){"use strict";var n=s("XKVI"),a=s.n(n);a.a},"BP/m":function(t,e,s){"use strict";var n=s("sixM"),a=s.n(n);a.a},BWsg:function(t,e,s){},CPiv:function(t,e,s){"use strict";var n=s("1rUu"),a=s.n(n);a.a},CdDZ:function(t,e,s){},Enfz:function(t,e,s){},FSkI:function(t,e,s){},G5f9:function(t,e,s){},GPe4:function(t,e,s){"use strict";var n=s("FSkI"),a=s.n(n);a.a},ISgY:function(t,e,s){},Jpsf:function(t,e,s){"use strict";var n=s("G5f9"),a=s.n(n);a.a},KRmC:function(t,e,s){"use strict";var n=s("9oDX"),a=s.n(n);a.a},KWxk:function(t,e){t.exports="data:image/png;base64,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"},MhW3:function(t,e,s){},"NS/1":function(t,e,s){"use strict";var n=s("g6SS"),a=s.n(n);a.a},NS1Q:function(t,e,s){"use strict";var n=s("efwt"),a=s.n(n);a.a},OhDf:function(t,e,s){},PiJw:function(t,e,s){"use strict";var n=s("nAk/"),a=s.n(n);a.a},QhvH:function(t,e,s){},QoCF:function(t,e,s){},TnS2:function(t,e,s){},TuJu:function(t,e,s){},VXEr:function(t,e,s){"use strict";var n=s("0q6r"),a=s.n(n);a.a},Vtdi:function(t,e,s){"use strict";s.r(e);s("VRzm");var n=s("Kw5r"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"app",staticClass:"app",attrs:{id:"app"}},[s("AppLoading"),s("AppHeader",{staticClass:"app__header"}),s("router-view",{staticClass:"app__cont"}),s("audio",{ref:"audioEl",staticClass:"hidden",attrs:{src:t.song.play_url,loop:""},on:{canplay:function(e){t.togglePlay(!0)}}}),s("PlayerMed",{directives:[{name:"show",rawName:"v-show",value:t.isPlayerMedShow&&"/player/max"!==t.$route.path,expression:"isPlayerMedShow&&$route.path!=='/player/max'"}],class:t.isPlayerMedSmall?"app__player app__player--min":"app__player app__player--med"})],1)},i=[],r=s("yT7P"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header"},[n("button",{staticClass:"header__back",on:{click:t.goBack}},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-arrow-left"}})])]),n("router-link",{attrs:{to:"/"}},[n("img",{staticClass:"header__logo",attrs:{src:s("nWR2")}})]),n("router-link",{staticClass:"header__search_btn",attrs:{to:"/search/index"},nativeOn:{click:function(e){t.bus.$emit("searchBtnClicked")}}},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-search"}})])])],1)},c=[],l=s("L2JU"),u=new n["a"],d={name:"AppHeader",data:function(){return{bus:u}},computed:Object(r["a"])({},Object(l["d"])("player",["curPlayerId"])),methods:Object(r["a"])({},Object(l["c"])("player",["togglePlayers"]),{goBack:function(){1!==this.curPlayerId?history.go(-1):this.togglePlayers(1)}})},p=d,h=(s("/kWC"),s("KHd+")),g=Object(h["a"])(p,o,c,!1,null,"bbff20f4",null),f=g.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"nav"},[s("nav",{staticClass:"nav__box"},t._l(t.navs,function(e,n){return s("router-link",{key:n,staticClass:"nav__link",attrs:{to:e.path,"exact-active-class":"nav__link--active"}},[t._v(t._s(e.text))])})),s("div",{staticClass:"nav__underline",style:"transform:translateX("+100*t.activeIndex+"%)"})])},_=[],y=(s("INYr"),{name:"AppNav",data:function(){return{navs:[{text:"新歌",name:"new",path:"/"},{text:"排行",name:"rank",path:"/rank/list"},{text:"歌单",name:"song",path:"/song/list"},{text:"歌手",name:"singer",path:"/singer/category"}]}},computed:{activeIndex:function(){var t=this;return this.navs.findIndex(function(e){return e.path===t.$route.path})}}}),v=y,b=(s("Jpsf"),Object(h["a"])(v,m,_,!1,null,"ea89aba8",null)),C=b.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.className},[s("svg",{staticClass:"icon loading__svg",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-loading"}})])])},S=[],x={name:"AppLoading",computed:Object(r["a"])({},Object(l["d"])("loading",["isShow","sizeClassName"]),{className:function(){var t=this.isShow?"loading":"loading loading--fade_out";return t+" "+this.sizeClassName}})},L=x,k=(s("ABLq"),Object(h["a"])(L,w,S,!1,null,"2bc5f602",null)),P=k.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"player"},[s("router-link",{staticClass:"player__link",attrs:{to:{name:"PlayerMax",params:{fromPlayerMed:1},query:{musicHash:t.song.hash}}}},[s("img",{class:t.isPlayerMedSmall?"player__singer_img player__singer_img--player_min":"player__singer_img",attrs:{src:t.singerImg?t.singerImg:"../../assets/images/logo--theme.png",alt:""}}),s("div",{staticClass:"player__song_info"},[s("div",{staticClass:"player__song_name"},[t._v(t._s(t.songName))]),s("div",{staticClass:"player__singer_name"},[t._v(t._s(t.singerName))])])]),s("div",{staticClass:"player__buttons"},[s("PrevButton",{staticClass:"player__btn_prev"}),s("PlayButton",{staticClass:"player__btn_status"}),s("NextButton",{staticClass:"play__btn_next"})],1)],1)},E=[],I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"play",on:{click:t.togglePlay}},[s("svg",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}],staticClass:"icon play__pause",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-pause"}})]),s("svg",{directives:[{name:"show",rawName:"v-show",value:!t.isPlaying,expression:"!isPlaying"}],staticClass:"icon play__play",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-play"}})])])},j=[],M={name:"PlayButton",computed:{isPlaying:function(){return this.$store.state.player.isPlaying}},methods:{togglePlay:function(){this.$store.commit("player/togglePlay",void 0,{root:!0})}}},A=M,T=(s("KRmC"),Object(h["a"])(A,I,j,!1,null,"9614d58c",null)),N=T.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"next_button",on:{click:t.next}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-next"}})])])},H=[],U={name:"nextButton",methods:{next:function(){this.$store.commit("player/next")}}},B=U,D=(s("/psH"),Object(h["a"])(B,R,H,!1,null,"10088b0c",null)),K=D.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"player__btn_prev",on:{click:t.prev}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-previous"}})])])},J=[],G={name:"PrevButton",methods:{prev:function(){this.$store.commit("player/prev")}}},Y=G,V=(s("3xKy"),Object(h["a"])(Y,z,J,!1,null,"307ce5a1",null)),Z=V.exports,q={name:"PlayerMed",components:{PlayButton:N,NextButton:K,PrevButton:Z},computed:Object(r["a"])({},Object(l["d"])("player",["song","isPlayerMedSmall"]),Object(l["b"])("player",["songName","singerName","singerImg"])),methods:Object(r["a"])({},Object(l["c"])("player",["togglePlayers"]))},X=q,W=(s("YOfg"),Object(h["a"])(X,O,E,!1,null,"25ab7300",null)),Q=W.exports,F={name:"App",components:{AppLoading:P,AppHeader:f,AppNav:C,PlayerMed:Q},mounted:function(){document.documentElement.style.fontSize=this.vMax+"px",this.findAudioEl(this.$refs.audioEl)},computed:Object(r["a"])({},Object(l["d"])("player",{isPlayerMedShow:"isPlayerMedShow",isPlayerMedSmall:"isPlayerMedSmall",music:"music",song:"song"}),Object(l["d"])("device",{vMax:"vMax"})),methods:Object(r["a"])({},Object(l["c"])("player",{findAudioEl:"findAudioEl",togglePlay:"togglePlay"}))},$=F,tt=(s("iEVb"),Object(h["a"])($,a,i,!1,null,"bc0907e0",null)),et=tt.exports,st=s("jE9Z"),nt=(s("KKXr"),{namespaced:!0,state:{vh:document.documentElement.clientHeight,vMax:Math.max(document.documentElement.clientHeight,document.documentElement.clientWidth)}}),at=nt,it={namespaced:!0,state:{isShow:!1,sizeClassName:""}},rt=it,ot=(s("xfY5"),s("pIFo"),s("vDqi")),ct=s.n(ot),lt=(s("xpiv"),s("rGqo"),"https://bird.ioliu.cn/v1?url="),ut="http://m.kugou.com",dt={newSong:ut+"/?json=true",rankList:ut+"/rank/list&json=true",rankInfo:ut+"/rank/info/?page=1&json=true&rankid=",songList:ut+"/plist/index&json=true",songListInfo:ut+"/plist/list/songListId?json=true",singerCategory:ut+"/singer/class&json=true",singerList:ut+"/singer/list/singerListId?json=true",singerInfo:ut+"/singer/info/singerId&json=true",songInfo:ut+"/app/i/getSongInfo.php?cmd=playInfo&hash=",songLyric:"http://www.kugou.com/yy/index.php?r=play/getdata&hash=",hotSearch:"http://mobilecdn.kugou.com/api/v3/search/hot?format=json&plat=0&count=30",searchResult:"http://mobilecdn.kugou.com/api/v3/search/song?format=json&page=1&pagesize=20&showtype=1&keyword="};Reflect.ownKeys(dt).forEach(function(t){dt[t]=lt+dt[t]});var pt=dt,ht=(s("9XZr"),{$_xsl__replaceImgUrlSize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.imgSize;return t.replace(/\{\s*size\s*\}/,e)},secondToMin:function(t){if(isNaN(Number(t)))return"00:00";t=Math.floor(t);var e=t%60,s=Math.floor(t/60);return String(s).padStart(2,"0")+":"+String(e).padStart(2,"0")}});function gt(t){return t.musicList.findIndex(function(e){return e.hash===t.song.hash})}var ft={namespaced:!0,state:{musicList:[],song:{},lyrics:"",audioEl:{},isPlaying:!1,isPlayerMedShow:!1,isPlayerMedSmall:!1},getters:{curMusicIndex:gt,singerImg:function(t){if(t.song.img)return ht.$_xsl__replaceImgUrlSize(t.song.img,400)},singerName:function(t){return t.song.author_name},songName:function(t){return t.song.song_name},lyricItems:function(t){var e=t.lyrics.split(/\n/);return e.pop(),e.map(function(t){var e=t.replace("[","").split("]"),s=e[0],n=s.split(":")[0],a=s.split(":")[1].split(".")[0],i=s.split(":")[1].split(".")[1];return{millisecond:60*n*1e3+1e3*a+Number(i),text:e[1].trim().replace(/(男[:：]\s*)|(女[:：]\s*)/,"")}})}},mutations:{findAudioEl:function(t,e){t.audioEl=e},wantPlay:function(t,e){var s=e.musicHash,n=e.musicList,a=void 0===n?t.musicList:n;t.isPlayerMedShow=!0,t.isPlayerMedSmall=!1,ct.a.get(pt.songLyric+s).then(function(e){var s=e.data.data;t.musicList=0===a.length?[s]:a,It.commit("replaceProperty",{paths:"player.lyrics",data:s.lyrics}),It.commit("replaceProperty",{paths:"player.song",data:s})})},togglePlay:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!t.isPlaying;e?(t.audioEl.play(),t.isPlaying=!0):(t.audioEl.pause(),t.isPlaying=!1)},next:function(t){var e=gt(t);e<0||(e=e===t.musicList.length-1?-1:e,It.commit("player/wantPlay",{musicHash:t.musicList[e+1].hash}))},prev:function(t){var e=gt(t);e<0||(e=0===e?t.musicList.length:e,It.commit("player/wantPlay",{musicHash:t.musicList[e-1].hash}))},togglePlayers:function(t,e){switch(e){case 0:t.curPlayerId=1;break;case 1:t.curPlayerId=0;break}}},actions:{}},mt=ft,_t={namespaced:!0,state:{rankList:[],rankInfo:{info:{},songs:{timestamp:Date.now(),list:[]}}}},yt=_t,vt={namespaced:!0,state:{singerCategories:[],singerInfo:{info:{},data:[]},singerList:{info:{},data:[]}}},bt=vt,Ct={namespaced:!0,state:{songList:[],songListInfo:{info:{list:{}},songs:{list:{info:[]}}}}},wt=Ct,St={namespaced:!0,state:{searchRecArr:[],searchRes:{},prevKeyword:void 0}},xt=St,Lt={namespaced:!0,state:{newSongs:[],sliderData:[]}},kt=Lt,Pt=s("KWxk"),Ot=s.n(Pt);n["a"].use(l["a"]);var Et=new l["a"].Store({modules:{device:at,loading:rt,player:mt,rank:yt,singer:bt,song:wt,newSong:kt,search:xt},state:{logo_theme:Ot.a},mutations:{replaceProperty:function(t,e){var s=e.paths,n=e.data;if("string"===typeof s){s=s.split(".");var a=s.slice(0,-1).reduce(function(t,e){return t[e]},t);a[s.pop()]=n}}}});window.store=Et;var It=Et,jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{staticClass:"main"},[s("AppNav",{staticClass:"main__nav"}),s("router-view",{staticClass:"main__cont"})],1)},Mt=[],At={name:"Main",components:{AppNav:C},methods:{}},Tt=At,Nt=(s("WpZK"),Object(h["a"])(Tt,jt,Mt,!1,null,"51798ace",null)),Rt=Nt.exports,Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"new_song"},[s("Slider",{staticClass:"new_song__slider",attrs:{data:t.sliderData}}),s("AppMusicList",{staticClass:"new_song__music_list",attrs:{"music-list":t.newSongs}})],1)},Ut=[],Bt=s("iv4g"),Dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"music_list"},t._l(t.musicList,function(e,n){return s("li",{key:n,staticClass:"music_list__item main_border_bottom"},[s("div",{staticClass:"music_list__info",on:{click:function(s){t.wantPlay(e.hash)}}},[t._t("index",null,{data:n}),s("div",{staticClass:"music_list__name"},[t._v(t._s(e.filename))])],2),s("button",{staticClass:"music_list__download"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-download"}})])])])}))},Kt=[],zt={name:"AppMusicList",props:{musicList:{type:Array,default:function(){return[]}}},methods:{wantPlay:function(t){console.log(event.type,Date.now()),this.$store.commit("player/wantPlay",{musicHash:t,musicList:this.$props.musicList})}}},Jt=zt,Gt=(s("soXW"),Object(h["a"])(Jt,Dt,Kt,!1,null,"67b08215",null)),Yt=Gt.exports,Vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"slider"},[s("swiper",{ref:"mySwiper",staticClass:"slider__body",attrs:{options:t.swiperOptions}},[t._l(t.data,function(t,e){return s("swiper-slide",{key:e},[s("a",{staticClass:"slider__link",attrs:{href:t.extra.tourl}},[s("img",{staticClass:"slider__img",attrs:{src:t.imgurl,alt:t.title}})])])}),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)},Zt=[],qt=s("chKg"),Xt=(s("36R9"),{name:"Slider",props:["data"],components:{swiper:qt["swiper"],swiperSlide:qt["swiperSlide"]},data:function(){return{swiperOptions:{autoplay:{delay:3e3,stopOnLastSlide:!0,disableOnInteraction:!1},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0,hideOnClick:!1},on:{imagesReady:function(){this.autoplay.start()},slideChangeTransitionEnd:function(){var t=this;this.isEnd&&(this.autoplay.stop(),//! avoid blink in chrome, change to the same picture after render
setTimeout(function(){t.slideTo(0,0),setTimeout(function(){t.autoplay.start()},t.params.autoplay.delay)}))}}}}}}),Wt=Xt,Qt=(s("GPe4"),Object(h["a"])(Wt,Vt,Zt,!1,null,"4093d1d3",null)),Ft=Qt.exports,$t={updated:function(){this.stopLoading()},methods:Object(r["a"])({},Object(l["c"])(["replaceProperty"]),{startLoading:function(){this.replaceProperty({paths:"loading.isShow",data:!0})},stopLoading:function(){this.replaceProperty({paths:"loading.isShow",data:!1})},setLoadingExcludeHeader:function(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_header"})},setLoadingExcludeNav:function(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_nav"})},setLoadingExcludeModuleTitle:function(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_module_title"})},setLoadingExcludeSearchForm:function(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_search_form"})}})},te={name:"NewSong",mixins:[$t],computed:Object(r["a"])({},Object(l["d"])("newSong",["newSongs","sliderData"])),created:function(){0===this.newSongs.length&&(this.setLoadingExcludeNav(),this.startLoading(),this.getNewSong())},methods:Object(r["a"])({},Object(l["c"])(["replaceProperty"]),{getNewSong:function(){var t=this;ct.a.get(pt.newSong).then(function(e){var s=e.data;t.replaceProperty({paths:"newSong.newSongs",data:s.data});var n=s.banner;t.replaceProperty({paths:"newSong.sliderData",data:Object(Bt["a"])(n).concat([n[0]])}),t.stopLoading()})}}),components:{AppMusicList:Yt,Slider:Ft}},ee=te,se=(s("VXEr"),Object(h["a"])(ee,Ht,Ut,!1,null,"4dd44df9",null)),ne=se.exports,ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"rank_list"},[s("PubList",{staticClass:"rank_list__cont",attrs:{"pub-list":t.rankList},scopedSlots:t._u([{key:"cont",fn:function(e){return s("div",{staticClass:"rank_list__info"},[t._v(t._s(e.data.title))])}}])})],1)},ie=[],re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"list",on:{scroll:function(e){t.$_xsl__loadImgLazy(t.$refs.lazyImages)}}},t._l(t.pubList,function(e,a){return n("li",{key:a,staticClass:"list__item main_border_bottom"},[n("router-link",{staticClass:"list__link",attrs:{to:e.path}},[n("img",{ref:"lazyImages",refInFor:!0,staticClass:"list__img lazy_image",attrs:{src:s("a83/"),"data-src":e.imgUrl,"data-is-loaded":t.isLoaded}}),t._t("cont",null,{data:e}),n("button",{staticClass:"list__btn"},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-arrow-right"}})])])],2)],1)}))},oe=[],ce=(s("HEwt"),s("oyJW")),le={data:function(){return{imgSize:400,isLoaded:!1}},methods:Object(r["a"])({},ht,{vBindAttr:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data-";return Object(ce["a"])({},"".concat(e+t),"")},$_xsl__detectToLoadImgLazy:function(t,e,s){var n=this;t&&0!==t.length?this.$_xsl__loadImgLazy(t):this.$_xsl__watchRefs(e,s).then(function(t){n.$_xsl__loadImgLazy(t)})},$_xsl__watchRefs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=arguments.length>1?arguments[1]:void 0;return new Promise(function(s){var n=new MutationObserver(i),a={childList:!0,subtree:!0};function i(n,a){n.forEach(function(n){if("childList"==n.type){var i=t.querySelectorAll(e);0!==i.length&&(a.disconnect(),s(Array.from(i)))}})}n.observe(t,a)})},$_xsl__loadImgLazy:function(t){var e=this;if(Array.isArray(t)){var s=t.filter(function(t){return!t.dataset.isLoaded});s.forEach(function(t){var s=t.getBoundingClientRect().top;s<e.$store.state.device.vh&&(t.src=t.dataset.src,t.dataset.isLoaded=!0)})}}})},ue={name:"PubList",mixins:[le],props:{pubList:{type:Array,default:function(){return[]}}},mounted:function(){var t=this.$refs.lazyImages;this.$_xsl__detectToLoadImgLazy(t,this.$el,".lazy_image")}},de=ue,pe=(s("tss8"),Object(h["a"])(de,re,oe,!1,null,"482c575d",null)),he=pe.exports,ge={name:"RankList",mixins:[le,$t],components:{PubList:he},computed:Object(r["a"])({},Object(l["d"])("rank",["rankList"])),created:function(){0===this.rankList.length&&(this.setLoadingExcludeNav(),this.startLoading(),this.getRank())},methods:Object(r["a"])({},Object(l["c"])(["replaceProperty"]),{getRank:function(){var t=this;ct.a.get(pt.rankList).then(function(e){var s=e.data;s.rank.list.forEach(function(e){e.imgUrl=t.$_xsl__replaceImgUrlSize(e.imgurl),e.path="/rank/info/"+e.rankid,e.title=e.rankname}),t.replaceProperty({paths:"rank.rankList",data:s.rank.list}),t.stopLoading()})}})},fe=ge,me=(s("tk+v"),Object(h["a"])(fe,ae,ie,!1,null,"7650631f",null)),_e=me.exports,ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"song_list"},[s("PubList",{staticClass:"song_list__cont",attrs:{"pub-list":t.songList},scopedSlots:t._u([{key:"cont",fn:function(e){return s("div",{staticClass:"song_list__info"},[s("div",{staticClass:"song_list__title"},[t._v(t._s(e.data.title))]),s("div",{staticClass:"song_list__star"},[s("svg",{staticClass:"icon song_list__icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-music"}})]),s("span",{staticClass:"song_list__popularity"},[t._v(t._s(e.data.popularity))])])])}}])})],1)},ve=[],be={name:"SongList",mixins:[le,$t],components:{PubList:he},computed:Object(r["a"])({},Object(l["d"])("song",["songList"])),created:function(){0===this.songList.length&&(this.setLoadingExcludeNav(),this.startLoading(),this.getSongList())},methods:Object(r["a"])({},Object(l["c"])(["replaceProperty"]),{getSongList:function(){var t=this;ct.a.get(pt.songList).then(function(e){var s=e.data;s.plist.list.info.forEach(function(e){e.imgUrl=t.$_xsl__replaceImgUrlSize(e.imgurl),e.path="/song/list/"+e.specialid,e.title=e.specialname,e.popularity=e.playcount}),t.replaceProperty({paths:"song.songList",data:s.plist.list.info}),t.stopLoading()})}})},Ce=be,we=(s("PiJw"),Object(h["a"])(Ce,ye,ve,!1,null,"12cc051c",null)),Se=we.exports,xe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"singer_category"},t._l(t.singerCategories,function(e,n){return s("ul",{key:n,staticClass:"singer_category__list main_border"},t._l(e.data,function(e,n){return s("li",{key:"1"+n,staticClass:"singer_category__item main_border_bottom"},[s("router-link",{staticClass:"singer_category__link",attrs:{to:e.path}},[s("div",{staticClass:"singer_category__title"},[t._v(t._s(e.classname))]),s("button",{staticClass:"singer_category_btn"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-arrow-right"}})])])])],1)}))}))},Le=[],ke=(s("dRSK"),{name:"SingerCategory",mixins:[$t],computed:Object(r["a"])({},Object(l["d"])("singer",["singerCategories"])),created:function(){0===this.singerCategories.length&&(this.setLoadingExcludeNav(),this.startLoading(),this.getSingerCategories())},methods:Object(r["a"])({},Object(l["c"])(["replaceProperty"]),{getSingerCategories:function(){var t=this;ct.a.get(pt.singerCategory).then(function(e){var s=e.data,n=s.list.reduce(function(t,e){e.path="/singer/list/"+e.classid;var s=t.find(function(t){return t.category===e.classname.substring(0,2)});return s?s.data.push(e):t.push({category:e.classname.substring(0,2),data:[e]}),t},[]);t.replaceProperty({paths:"singer.singerCategories",data:n}),t.stopLoading()})}})}),Pe=ke,Oe=(s("kUqD"),Object(h["a"])(Pe,xe,Le,!1,null,"2eab802c",null)),Ee=Oe.exports,Ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"rank_info"},[s("PubModuleHead",{attrs:{"module-head-info":t.getModuleHeadInfo}},[s("time",{staticClass:"rank_info__update_time",attrs:{slot:"moduleUpdateTime"},slot:"moduleUpdateTime"},[t._v(t._s(t.msg)+" "+t._s(t.formatDate))])]),s("AppMusicList",{attrs:{"music-list":t.getMusicList},scopedSlots:t._u([{key:"index",fn:function(e){return s("div",{class:"rank_info__index rank_info__index"+(e.data+1)},[t._v(t._s(e.data+1))])}}])})],1)},je=[],Me=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"module__head",style:"background-image:url("+t.moduleHeadInfo.imgUrl+")"},[s("h6",{staticClass:"module__title"},[t._v(t._s(t.moduleHeadInfo.name))]),t._t("moduleUpdateTime")],2),t._t("moduleDes")],2)},Ae=[],Te={name:"PubModuleHead",props:{moduleHeadInfo:{type:Object,default:function(){return{}}}}},Ne=Te,Re=(s("xlSM"),Object(h["a"])(Ne,Me,Ae,!1,null,"f6d09188",null)),He=Re.exports,Ue={name:"RankInfo",mixins:[le,$t],components:{PubModuleHead:He,AppMusicList:Yt},data:function(){return{msg:"上次更新时间"}},computed:Object(r["a"])({},Object(l["d"])("rank",["rankInfo"]),{getModuleHeadInfo:function(){return{imgUrl:this.$_xsl__replaceImgUrlSize(this.rankInfo.info.banner7url),name:this.rankInfo.info.rankname}},getMusicList:function(){return this.rankInfo.songs.list},formatDate:function(){var t=new Date(1e3*this.rankInfo.songs.timestamp);return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")}}),created:function(){var t=this.$route.path.split("/").pop();this.setLoadingExcludeHeader(),this.startLoading(),this.getRankInfo(t)},methods:Object(r["a"])({},Object(l["c"])(["replaceProperty"]),{getRankInfo:function(t){var e=this;ct.a.get(pt.rankInfo+t).then(function(t){var s={info:t.data.info,songs:t.data.songs};e.replaceProperty({paths:"rank.rankInfo",data:s}),e.stopLoading()}).catch(function(t){alert(t)})}})},Be=Ue,De=(s("fp3s"),Object(h["a"])(Be,Ie,je,!1,null,"773546ea",null)),Ke=De.exports,ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"song_list_info"},[s("PubModuleHead",{attrs:{"module-head-info":t.getModuleHeadInfo}},[s("PubModuleDes",{attrs:{slot:"moduleDes",description:t.getModuleHeadInfo.intro},slot:"moduleDes"})],1),s("AppMusicList",{attrs:{"music-list":t.getMusicList}})],1)},Je=[],Ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.showMore?"module_info__intro module_info__intro--more main_box_shadow":"module_info__intro main_box_shadow"},[s("p",{staticClass:"module_info__text"},[t._v(t._s(t.description))]),s("button",{directives:[{name:"show",rawName:"v-show",value:t.showMore,expression:"showMore"}],staticClass:"module_info__button",on:{click:function(e){t.showMore=!t.showMore}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-circle-arrow-up"}})])]),s("button",{directives:[{name:"show",rawName:"v-show",value:!t.showMore,expression:"!showMore"}],staticClass:"module_info__button",on:{click:function(e){t.showMore=!t.showMore}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-circle-arrow-down"}})])])])},Ye=[],Ve={name:"PubModuleDes",props:{description:{type:String,default:function(){return""}}},data:function(){return{showMore:!1}},methods:{}},Ze=Ve,qe=(s("NS/1"),Object(h["a"])(Ze,Ge,Ye,!1,null,"3d821978",null)),Xe=qe.exports,We={name:"SongListInfo",mixins:[le,$t],components:{PubModuleHead:He,AppMusicList:Yt,PubModuleDes:Xe},computed:Object(r["a"])({},Object(l["d"])("song",["songListInfo"]),{getModuleHeadInfo:function(){var t=this.songListInfo.info.list;return{imgUrl:this.$_xsl__replaceImgUrlSize(t.imgurl),name:t.specialname,intro:t.intro}},getMusicList:function(){return this.songListInfo.songs.list.info}}),created:function(){var t=this.$route.path.split("/").pop();this.setLoadingExcludeHeader(),this.startLoading(),this.getSongListInfo(t)},methods:Object(r["a"])({},Object(l["c"])(["replaceProperty"]),{getSongListInfo:function(t){var e=this;ct.a.get(pt.songListInfo.replace(/songListId?/i,t)).then(function(t){var s=t.data,n={info:s.info,songs:s.list};e.replaceProperty({paths:"song.songListInfo",data:n}),e.stopLoading()}).catch(function(t){alert(t)})}})},Qe=We,Fe=(s("YYxO"),Object(h["a"])(Qe,ze,Je,!1,null,"638eda34",null)),$e=Fe.exports,ts=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"singer_list"},[n("PubModuleTitle",{attrs:{title:t.singerList.info.name}}),n("ul",{staticClass:"singer_list__list",on:{scroll:function(e){t.$_xsl__loadImgLazy(t.$refs.lazyImages)}}},t._l(t.singerList.data,function(e,a){return n("li",{key:a,staticClass:"singer_list__item main_border_bottom"},[n("router-link",{staticClass:"singer_list__link",attrs:{to:e.path}},[n("img",{ref:"lazyImages",refInFor:!0,staticClass:"singer_list__img lazy_image",attrs:{src:s("a83/"),"data-src":e.imgUrl,"data-is-loaded":t.isLoaded}}),n("div",{staticClass:"singer_list__name"},[t._v(t._s(e.name))])])],1)}))],1)},es=[],ss=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",{staticClass:"module_title main_box_shadow",on:{click:function(e){t.$emit("click",arguments[0])}}},[t._v(t._s(t.title))])},ns=[],as={name:"PubModuleTitle",props:{title:{type:String,default:function(){return""}}}},is=as,rs=(s("yuGp"),Object(h["a"])(is,ss,ns,!1,null,"95e615fa",null)),os=rs.exports,cs={name:"SingerList",mixins:[le,$t],components:{PubModuleTitle:os},computed:Object(r["a"])({},Object(l["d"])("singer",["singerList"]),Object(l["d"])("loading",{isLoadingShow:"isShow"})),created:function(){var t=this.$route.path.split("/").pop();this.setLoadingExcludeHeader(),this.startLoading(),this.getSingerList(t)},mounted:function(){var t=this.$refs.lazyImages;this.$_xsl__detectToLoadImgLazy(t,this.$el,".lazy_image")},methods:Object(r["a"])({},Object(l["c"])(["replaceProperty"]),{getSingerList:function(t){var e=this;ct.a.get(pt.singerList.replace(/singerListId?/i,t)).then(function(t){var s=t.data,n={info:{id:s.classid,name:s.classname,count:s.singers.total},data:s.singers.list.info};s.singers.list.info.forEach(function(t){t.id=t.singerid,t.name=t.singername,t.imgUrl=e.$_xsl__replaceImgUrlSize(t.imgurl),t.path="/singer/info/"+t.id}),e.replaceProperty({paths:"singer.singerList",data:n}),e.stopLoading()}).catch(function(t){alert(t)})}})},ls=cs,us=(s("mbLw"),Object(h["a"])(ls,ts,es,!1,null,"3b435f71",null)),ds=us.exports,ps=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"singer_info"},[s("PubModuleHead",{attrs:{"module-head-info":t.getModuleHeadInfo}},[s("PubModuleDes",{attrs:{slot:"moduleDes",description:t.getModuleHeadInfo.intro},slot:"moduleDes"})],1),s("AppMusicList",{attrs:{"music-list":t.getMusicList}})],1)},hs=[],gs={name:"SingerInfo",mixins:[le,$t],components:{PubModuleHead:He,AppMusicList:Yt,PubModuleDes:Xe},computed:Object(r["a"])({},Object(l["d"])("singer",["singerInfo"]),{getModuleHeadInfo:function(){return this.singerInfo.info},getMusicList:function(){return this.singerInfo.data}}),created:function(){var t=this.$route.path.split("/").pop();this.setLoadingExcludeHeader(),this.startLoading(),this.getSingerInfo(t)},methods:Object(r["a"])({},Object(l["c"])(["replaceProperty"]),{getSingerInfo:function(t){var e=this;ct.a.get(pt.singerInfo.replace(/singerId?/i,t)).then(function(t){var s=t.data,n={info:{id:s.info.singerid,name:s.info.singername,count:s.info.songcount,albumcount:s.info.albumcount,imgUrl:e.$_xsl__replaceImgUrlSize(s.info.imgurl),intro:s.info.intro},data:s.songs.list};s.songs.list.forEach(function(t){t.name=t.filename}),e.replaceProperty({paths:"singer.singerInfo",data:n}),e.stopLoading()}).catch(function(t){alert(t)})}})},fs=gs,ms=(s("NS1Q"),Object(h["a"])(fs,ps,hs,!1,null,"15839a40",null)),_s=ms.exports,ys=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"search"},[s("PubModuleTitle",{staticClass:"search__title",attrs:{title:t.title},on:{click:t.goBackToSearchRec}}),s("div",{ref:"searchCont",staticClass:"search__cont"},[s("form",{staticClass:"search__form",on:{submit:function(t){t.preventDefault()}}},[s("input",{staticClass:"search__input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.keyword},on:{"update:value":function(e){t.keyword=e},input:function(e){t.keyword=arguments[0].target.value.trim()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.getSearchRes(e):null}}}),s("button",{class:t.isSearchResShow?"search__btn search__btn--active":"search__btn",attrs:{type:"button"},on:{click:t.getSearchRes}},[t._v(t._s(t.title))])]),t.isSearchRecShow?s("div",{staticClass:"search__rec"},[s("h6",{staticClass:"search__type"},[t._v(t._s(t.searchType))]),s("ul",{staticClass:"search__list"},t._l(t.searchRecArr,function(e,n){return s("li",{key:n,staticClass:"search__item main_border_bottom",on:{click:function(s){t.getTargetList(e.keyword)}}},[t._v(t._s(e.keyword))])}))]):t._e(),t.isSearchResShow?s("div",{staticClass:"search__res"},[s("div",{staticClass:"search__count"},[t._v("共有"+t._s(t.searchRes.info.length)+"条结果")]),s("AppMusicList",{staticClass:"search__res-list",attrs:{"music-list":t.searchRes.info}})],1):t._e()])],1)},vs=[],bs={name:"Search",mixins:[$t],components:{PubModuleTitle:os,AppMusicList:Yt},data:function(){return{title:"搜索",searchType:"最近热门",placeholder:"歌手/歌名/拼音",keyword:"",isSearchRecShow:!1,isSearchResShow:!1}},computed:Object(r["a"])({},Object(l["d"])("search",["searchRecArr","searchRes","prevKeyword"])),created:function(){var t=this.$route.query.keyword,e="string"===typeof t&&""!==t,s="string"===typeof this.prevKeyword&&""!==this.prevKeyword;e||s?(this.keyword=e?t:this.prevKeyword,this.getSearchRes()):this.getSearchRec()},mounted:function(){var t=this,e=document.getElementsByClassName("search__cont")[0];window.search__cont=e;//! bug with qq browser
var s=function(){e.scrollTop&&console.log(event.type,e.scrollTop)};window.addEventListener("touchstart",s),window.addEventListener("touchmove",s),u.$on("searchBtnClicked",function(){t.$refs.searchCont&&(t.$refs.searchCont.scrollTop=0)})},methods:Object(r["a"])({},Object(l["c"])(["replaceProperty"]),{getSearchRec:function(){var t=this;if(0!==this.searchRecArr.length)return this.isSearchResShow=!1,void(this.isSearchRecShow=!0);this.setLoadingExcludeSearchForm(),this.startLoading(),ct.a.get(pt.hotSearch).then(function(e){var s=e.data;t.replaceProperty({paths:"search.searchRecArr",data:s.data.info}),t.stopLoading(),t.isSearchResShow=!1,t.isSearchRecShow=!0}).catch(function(t){alert(t)})},getSearchRes:function(){var t=this;if(""!==this.keyword){if(this.$router.push({query:{keyword:this.keyword}}),this.keyword===this.prevKeyword)return this.isSearchRecShow=!1,void(this.isSearchResShow=!0);var e=pt.searchResult+encodeURIComponent(this.keyword);this.setLoadingExcludeSearchForm(),this.startLoading(),ct.a.get(e).then(function(e){t.replaceProperty({paths:"search.searchRes",data:e.data.data}),t.replaceProperty({paths:"search.prevKeyword",data:t.keyword}),t.stopLoading(),t.isSearchRecShow=!1,t.isSearchResShow=!0})}},getTargetList:function(t){this.keyword=t,this.getSearchRes()},goBackToSearchRec:function(){this.$router.push({query:{}}),this.getSearchRec()}})},Cs=bs,ws=(s("ayhp"),Object(h["a"])(Cs,ys,vs,!1,null,"77a08402",null)),Ss=ws.exports,xs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"player"},[s("div",{staticClass:"player__mask",style:t.playerBgImg}),s("div",{staticClass:"player__cont"},[s("h6",{staticClass:"player__song_name"},[t._v(t._s(t.songName))]),s("img",{class:t.isPlaying?"player__singer_img player__singer_img--active":"player__singer_img",attrs:{src:t.singerImg?t.singerImg:"../../assets/images/logo--theme.png"}}),s("PlayerLyrics",{staticClass:"player__lyrics"}),s("PlayerProgress",{staticClass:"player__progress"}),s("div",{staticClass:"player__buttons"},[s("PrevButton",{staticClass:"player__btn_prev"}),s("PlayButton",{staticClass:"player__btn_status"}),s("NextButton",{staticClass:"play__btn_next"})],1),s("button",{staticClass:"player__download"})],1)])},Ls=[],ks=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"player_lyric",on:{touchstart:function(e){t.isTouching=!0},touchend:function(e){t.isTouching=!1}}},t._l(t.lyricItems,function(e,n){return s("p",t._b({key:e.millisecond,ref:e.millisecond,refInFor:!0,class:n===t.prevLyricIndex+1?"player_lyric_text player_lyric_text--active ":"player_lyric_text"},"p",t.vBindAttr("millisecond-"+e.millisecond),!1),[t._v(t._s(e.text))])}))},Ps=[],Os={name:"PlayerLyrics",mixins:[le],data:function(){return{prevLyricIndex:0,isTouching:!1}},computed:Object(r["a"])({},Object(l["d"])("player",["audioEl"]),Object(l["b"])("player",["lyricItems"]),{lyricMillisecond:function(){return this.lyricItems.map(function(t){return t.millisecond})}}),mounted:function(){var t=this;this.$nextTick(function(){t.audioEl.addEventListener("timeupdate",t.timeUpdateCb)})},destroyed:function(){this.audioEl.removeEventListener("timeupdate",this.timeUpdateCb)},methods:{timeUpdateCb:function(t){if(!this.isTouching){var e=Math.floor(1e3*t.target.currentTime),s=this.lyricMillisecond.findIndex(function(t){return t>1.005*e}),n=s>1?s-2:0,a=this.$refs&&this.$refs[this.lyricMillisecond[n]];a&&this.$refs[this.lyricMillisecond[n]][0].scrollIntoView(),this.prevLyricIndex=n}}}},Es=Os,Is=(s("BP/m"),Object(h["a"])(Es,ks,Ps,!1,null,"2d400184",null)),js=Is.exports,Ms=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"player_progress",on:{touchstart:t.setCurTime}},[s("div",{staticClass:"player_progress__song_cur_time"},[t._v(t._s(t.secondToMin(t.currentTime)))]),s("div",{ref:"progressBar",staticClass:"player_progress__progress_bar",style:t.progressBarStyle},[s("div",{staticClass:"player_progress__progress_bar_pointer",style:"left:"+t.currentProgress+"%;"})]),s("div",{staticClass:"player_progress__song_duration"},[t._v(t._s(t.secondToMin(t.audioEl.duration)))])])},As=[],Ts={name:"PlayerProgress",mixins:[le],data:function(){return{currentTime:0,loadProgress:0,isTouching:!1,touchStartX:0,progressBarRect:null}},computed:Object(r["a"])({},Object(l["d"])("player",["song","audioEl"]),{currentProgress:function(){return Math.floor(100*this.currentTime/this.audioEl.duration)},progressBarStyle:function(){return"background-image:linear-gradient(to right, #2ca2f9 ".concat(this.currentProgress,"%, transparent ").concat(this.currentProgress,"%),linear-gradient(to right, #6c6b70 ").concat(this.loadProgress,"%, transparent ").concat(this.loadProgress,"%)")}}),mounted:function(){var t=this;this.$nextTick(function(){t.audioEl.addEventListener("progress",t.progressCb),t.audioEl.addEventListener("timeupdate",t.timeUpdateCb)})},destroyed:function(){this.audioEl.removeEventListener("progress",this.progressCb),this.audioEl.addEventListener("timeupdate",this.timeUpdateCb)},methods:{progressCb:function(){if(!(this.audioEl.readyState<2)){var t=this.audioEl.buffered.length;this.loadProgress=Math.floor(100*this.audioEl.buffered.end(t-1)/this.audioEl.duration)}},timeUpdateCb:function(t){this.isTouching||(this.currentTime=t.target.currentTime)},setCurTime:function(t){this.isTouching=!0,this.progressBarRect||(this.progressBarRect=this.$refs.progressBar.getBoundingClientRect());var e=t.touches[0].clientX;this.currentTime=this.calcCurTime(e,this.progressBarRect.left,0),this.touchStartX=e,window.addEventListener("touchmove",this.setCurTimeOnMove),window.addEventListener("touchend",this.touchEndCb)},setCurTimeOnMove:function(t){var e=t.touches[0].clientX;this.currentTime=this.calcCurTime(e,this.touchStartX,1),this.touchStartX=e},touchEndCb:function(){this.isTouching=!1,this.audioEl.currentTime=this.currentTime,window.removeEventListener("touchmove",this.setCurTimeOnMove),window.removeEventListener("touchend",this.touchEndCb)},calcCurTime:function(t,e,s){var n,a=t-e,i=a/this.progressBarRect.width;switch(s){case 0:n=this.audioEl.duration*i;break;case 1:n=this.currentTime+this.audioEl.duration*i;break}return n<0?n=0:n>this.audioEl.duration&&(n=this.audioEl.duration),n}}},Ns=Ts,Rs=(s("CPiv"),Object(h["a"])(Ns,Ms,As,!1,null,"74fb80ac",null)),Hs=Rs.exports,Us={name:"PlayerMax",components:{PlayerLyrics:js,PlayerProgress:Hs,PlayButton:N,NextButton:K,PrevButton:Z},computed:Object(r["a"])({},Object(l["d"])(["logo_theme"]),Object(l["d"])("player",["audioEl","isPlaying"]),Object(l["b"])("player",["songName","singerName","singerImg"]),{playerBgImg:function(){return"background-image:url(".concat(this.singerImg,"),url(").concat(this.logo_theme,");")}}),mounted:function(){this.replaceProperty({paths:"player.isPlayerMedShow",data:!1})},destroyed:function(){this.replaceProperty({paths:"player.isPlayerMedShow",data:!0}),this.replaceProperty({paths:"player.isPlayerMedSmall",data:!1})},methods:Object(r["a"])({},Object(l["c"])(["replaceProperty"]))},Bs=Us,Ds=(s("cVhA"),Object(h["a"])(Bs,xs,Ls,!1,null,"5eb7246c",null)),Ks=Ds.exports;n["a"].use(st["a"]);var zs=new st["a"]({routes:[{path:"/",component:Rt,children:[{path:"/",component:ne},{path:"/rank/list",component:_e},{path:"/song/list",component:Se},{path:"/singer/category",component:Ee}]},{path:"/rank/info/:id",component:Ke},{path:"/song/list/:id",component:$e},{path:"/singer/list/:id",component:ds},{path:"/singer/info/:id",component:_s},{path:"/search/index",component:Ss},{path:"/player/max",component:Ks,name:"PlayerMax"}]});zs.beforeEach(function(t,e,s){var n=t.query.musicHash;n&&!t.params.fromPlayerMed&&It.commit("player/wantPlay",{musicHash:n}),It.commit("replaceProperty",{paths:"loading.isShow",data:!1}),s()});var Js=zs,Gs=s("KWxk");function Ys(t){var e=t.target;e.tagName&&"img"===e.tagName.toLowerCase()&&(e.src=Gs)}function Vs(){It.commit("replaceProperty",{paths:"player.isPlayerMedSmall",data:!0})}function Zs(){It.commit("replaceProperty",{paths:"player.isPlayerMedShow",data:window.innerHeight>.8*It.state.device.vMax})}function qs(t){var e=300,s=Date.now(),n=.1*window.innerWidth,a=.4*window.innerWidth,i=t.touches[0].clientX,r=t.touches[0].clientY;function o(t){window.removeEventListener("touchend",o,!0);var c=t.changedTouches[0].clientX,l=t.changedTouches[0].clientY,u=Math.abs(c-i),d=Math.abs(l-r);if(!(d>u)){var p=c-i<0,h=Date.now(),g=h-s>e,f=g&&u>a,m=!g&&u>n,_=Js.options.routes[0].children.map(function(t){return t.path}),y=_.indexOf(Js.currentRoute.path);if(y>=0&&(f||m)){var v=p?y+1:y-1,b=_[v];void 0===b&&(b=p?_[0]:_.slice().pop()),Js.push(b)}}}window.addEventListener("touchend",o,!0)}window.addEventListener("error",Ys,!0),window.addEventListener("scroll",Vs,!0),window.addEventListener("resize",Zs,!0),window.addEventListener("touchstart",qs,!0);s("TuJu"),s("MhW3"),s("OhDf");n["a"].config.productionTip=!1,n["a"].prototype.window=window,new n["a"]({router:Js,store:It,render:function(t){return t(et)}}).$mount("#app")},WpZK:function(t,e,s){"use strict";var n=s("vuf2"),a=s.n(n);a.a},XKVI:function(t,e,s){},XtgU:function(t,e,s){},YOfg:function(t,e,s){"use strict";var n=s("BWsg"),a=s.n(n);a.a},YYxO:function(t,e,s){"use strict";var n=s("ISgY"),a=s.n(n);a.a},"a83/":function(t,e){t.exports="data:image/png;base64,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"},ayhp:function(t,e,s){"use strict";var n=s("QoCF"),a=s.n(n);a.a},cVhA:function(t,e,s){"use strict";var n=s("Enfz"),a=s.n(n);a.a},efwt:function(t,e,s){},emBY:function(t,e,s){},fp3s:function(t,e,s){"use strict";var n=s("oE6O"),a=s.n(n);a.a},g6SS:function(t,e,s){},h1ze:function(t,e,s){},iEVb:function(t,e,s){"use strict";var n=s("QhvH"),a=s.n(n);a.a},kUqD:function(t,e,s){"use strict";var n=s("z4E8"),a=s.n(n);a.a},mbLw:function(t,e,s){"use strict";var n=s("q2ch"),a=s.n(n);a.a},"nAk/":function(t,e,s){},nWR2:function(t,e,s){t.exports=s.p+"static/img/logo.d488aa15.png"},oE6O:function(t,e,s){},q2ch:function(t,e,s){},sixM:function(t,e,s){},soXW:function(t,e,s){"use strict";var n=s("XtgU"),a=s.n(n);a.a},"tk+v":function(t,e,s){"use strict";var n=s("emBY"),a=s.n(n);a.a},tss8:function(t,e,s){"use strict";var n=s("xqz8"),a=s.n(n);a.a},u5pF:function(t,e,s){},vuf2:function(t,e,s){},xlSM:function(t,e,s){"use strict";var n=s("TnS2"),a=s.n(n);a.a},xqz8:function(t,e,s){},yuGp:function(t,e,s){"use strict";var n=s("u5pF"),a=s.n(n);a.a},z4E8:function(t,e,s){}});
//# sourceMappingURL=app.3a1a944d.js.map