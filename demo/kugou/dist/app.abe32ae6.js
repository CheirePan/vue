(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],f=0,d=[];f<o.length;f++)r=o[f],a[r]&&d.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},a={1:0},i=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([29,0]),n()})({"+Gjc":function(t,e,n){},"+wAT":function(t,e,n){"use strict";var s=n("hY6m"),a=n.n(s);a.a},"08FR":function(t,e,n){"use strict";var s=n("vqmV"),a=n.n(s);a.a},"0Nc1":function(t,e,n){"use strict";var s=n("PmlP"),a=n.n(s);a.a},29:function(t,e,n){t.exports=n("Vtdi")},"4m5f":function(t,e,n){"use strict";var s=n("6YMj"),a=n.n(s);a.a},"50P/":function(t,e,n){},"6YMj":function(t,e,n){},8300:function(t,e,n){},BvrI:function(t,e,n){},Bz9c:function(t,e,n){},Cp7A:function(t,e,n){},DjQE:function(t,e,n){},Etbg:function(t,e,n){},FM4M:function(t,e,n){},FSkI:function(t,e,n){},G6fP:function(t,e,n){},GMMi:function(t,e,n){},GPe4:function(t,e,n){"use strict";var s=n("FSkI"),a=n.n(s);a.a},HZA2:function(t,e,n){"use strict";var s=n("50P/"),a=n.n(s);a.a},HxNg:function(t,e,n){},KxKW:function(t,e,n){"use strict";var s=n("O8IY"),a=n.n(s);a.a},MhW3:function(t,e,n){},O8IY:function(t,e,n){},OFc3:function(t,e,n){"use strict";var s=n("HxNg"),a=n.n(s);a.a},OhDf:function(t,e,n){},PmlP:function(t,e,n){},QfGm:function(t,e,n){"use strict";var s=n("Cp7A"),a=n.n(s);a.a},RgV5:function(t,e,n){"use strict";var s=n("Etbg"),a=n.n(s);a.a},TEXX:function(t,e,n){"use strict";var s=n("BvrI"),a=n.n(s);a.a},TuJu:function(t,e,n){},UhG2:function(t,e,n){"use strict";var s=n("x9wi"),a=n.n(s);a.a},VKrM:function(t,e,n){},Vtdi:function(t,e,n){"use strict";n.r(e);n("VRzm");var s=n("Kw5r"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"app",staticClass:"app",attrs:{id:"app"}},[n("AppHeader",{staticClass:"app__header"}),n("router-view",{staticClass:"app__cont",attrs:{navs:t.navs}}),t.music?n("Player",{staticClass:"app__player"}):t._e()],1)},i=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"header"},[s("button",{staticClass:"header__back arrow arrow--left",on:{click:t.goBack}}),s("router-link",{attrs:{to:"/"}},[s("img",{staticClass:"header__logo",attrs:{src:n("nWR2")}})]),s("router-link",{staticClass:"header__search_btn",attrs:{to:"/search/index"},nativeOn:{click:function(e){t.bus.$emit("searchBtnClicked")}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-search"}})])])],1)},o=[],c=new s["a"],l={name:"AppHeader",data:function(){return{bus:c}},methods:{goBack:function(){history.go(-1)}}},u=l,f=(n("mzGh"),n("KHd+")),d=Object(f["a"])(u,r,o,!1,null,"9b38dc62",null),p=d.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"nav"},t._l(t.navs,function(e,s){return n("router-link",{key:s,staticClass:"nav__link",attrs:{to:e.link,"exact-active-class":"nav__link--active"}},[t._v(t._s(e.text))])}))},g=[],h={name:"AppNav",props:{navs:{type:Array,default:function(){return[]}}}},_=h,v=(n("KxKW"),Object(f["a"])(_,m,g,!1,null,"cdeb9668",null)),y=v.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{class:t.isPlayerMed?"player_box player_box--med":"player_box player_box--max"},[n("audio",{ref:"audioEl",staticClass:"hidden",attrs:{src:t.song.url},on:{canplay:t.play}}),t.isPlayerMed?n("PlayerMed",{staticClass:"player_box__player",attrs:{"song-name":t.songName,"singer-name":t.singerName,"singer-img":t.singerImg,"is-playing":t.isPlaying}}):n("PlayerMax",{staticClass:"player_box__player"})],1)},x=[],w=(n("KKXr"),n("yT7P")),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"player"},[n("img",{staticClass:"player__singer_img",attrs:{src:t.singerImg,alt:""}}),n("div",{staticClass:"player__song_info"},[n("div",{staticClass:"player__song_name"},[t._v(t._s(t.songName))]),n("div",{staticClass:"player__singer_name"},[t._v(t._s(t.singerName))])]),n("div",{staticClass:"player__buttons"},[n("PrevButton",{staticClass:"player__btn_prev"}),n("PlayButton",{staticClass:"player__btn_status"}),n("NextButton",{staticClass:"play__btn_next"})],1)])},k=[],I=n("L2JU"),L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"play",on:{touchstart:t.togglePlay}},[n("svg",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}],staticClass:"icon play__pause",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-pause"}})]),n("svg",{directives:[{name:"show",rawName:"v-show",value:!t.isPlaying,expression:"!isPlaying"}],staticClass:"icon play__play",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-play"}})])])},P=[],M={name:"PlayButton",computed:{isPlaying:function(){return this.$store.state.player.isPlaying}},methods:{togglePlay:function(){this.$store.commit("player/togglePlay",void 0,{root:!0})}}},S=M,j=(n("Xg4F"),Object(f["a"])(S,L,P,!1,null,"1b457217",null)),O=j.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"next_button",on:{touchstart:t.next}},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-next"}})])])},E=[],R={name:"nextButton",methods:{next:function(){this.$store.commit("next")}}},z=R,D=(n("dvoZ"),Object(f["a"])(z,A,E,!1,null,"15bd8545",null)),H=D.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"player__btn_prev",on:{touchstart:t.prev}},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-previous"}})])])},U=[],N={name:"PrevButton",methods:{prev:function(){this.$store.commit("prev")}}},G=N,B=(n("oqVw"),Object(f["a"])(G,$,U,!1,null,"c597d45c",null)),T=B.exports,V={name:"PlayerMed",props:["songName","singerName","singerImg"],components:{PlayButton:O,NextButton:H,PrevButton:T}},q=V,X=(n("0Nc1"),Object(f["a"])(q,C,k,!1,null,"b4d9b4b4",null)),K=X.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"player--max"})},Y=[],F={name:"PlayerMax"},W=F,J=(n("xh4Y"),Object(f["a"])(W,Z,Y,!1,null,"5e867840",null)),Q=J.exports,tt=(n("HEwt"),n("rGqo"),n("pIFo"),{}),et={data:function(){return{imgSize:400,isLoaded:!1}},methods:Object(w["a"])({},tt,{$_xsl__replaceImgUrlSize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.imgSize;return t.replace(/\{\s*size\s*\}/,e)},$_xsl__detectToLoadImgLazy:function(t,e,n){var s=this;t&&0!==t.length?this.$_xsl__loadImgLazy(t):this.$_xsl__watchRefs(e,n).then(function(t){s.$_xsl__loadImgLazy(t)})},$_xsl__watchRefs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=arguments.length>1?arguments[1]:void 0;return new Promise(function(n){var s=new MutationObserver(i),a={childList:!0,subtree:!0};function i(s,a){s.forEach(function(s){if("childList"==s.type){var i=t.querySelectorAll(e);0!==i.length&&(a.disconnect(),n(Array.from(i)))}})}s.observe(t,a)})},$_xsl__loadImgLazy:function(t){var e=this;if(Array.isArray(t)){var n=t.filter(function(t){return!t.dataset.isLoaded});n.forEach(function(t){var n=t.getBoundingClientRect().top;n<e.$store.state.device.vh&&(t.src=t.dataset.src,t.dataset.isLoaded=!0)})}}})},nt={name:"Player",mixins:[et],components:{PlayerMed:K,PlayerMax:Q},data:function(){return{isPlayerMed:!0}},computed:Object(w["a"])({singerName:function(){return this.music.filename.split(/\s+-\s+/)[0]},singerImg:function(){if(this.song.imgUrl)return this.$_xsl__replaceImgUrlSize(this.song.imgUrl)},songName:function(){return this.music.filename.split(/\s+-\s+/)[1]}},Object(I["b"])("player",{isPlaying:function(t){return t.isPlaying},song:function(t){return t.song},music:function(t){return t.music},audioEl:function(t){return t.audioEl}}),Object(I["b"])("device",{vMax:function(t){return t.vMax}})),beforeCreate:function(){var t=this;window.onresize=function(){t.isPlayerMed=window.innerHeight>.8*t.vMax}},destroyed:function(){window.onresize=null},mounted:function(){this.$store.commit("player/findAudioEl",this.$refs.audioEl)},methods:{play:function(){this.$store.commit("player/togglePlay",!0)}}},st=nt,at=(n("+wAT"),Object(f["a"])(st,b,x,!1,null,"1d2c3053",null)),it=at.exports,rt={name:"App",components:{AppHeader:p,AppNav:y,Player:it},mounted:function(){this.$refs.app.style.height=this.vMax+"px"},computed:{music:function(){return this.$store.state.player.music},vMax:function(){return this.$store.state.device.vMax}},data:function(){return{navs:[{text:"新歌",name:"new",active:!0,link:"/"},{text:"排行",name:"rank",active:!1,link:"/rank/list"},{text:"歌单",name:"song",active:!1,link:"/song/list"},{text:"歌手",name:"singer",active:!1,link:"/singer/category"}]}}},ot=rt,ct=(n("agPH"),Object(f["a"])(ot,a,i,!1,null,"64e8bbf4",null)),lt=ct.exports,ut=n("jE9Z"),ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"main"},[n("AppNav",{staticClass:"main__nav",attrs:{navs:t.navs}}),n("router-view",{staticClass:"main__cont"})],1)},dt=[],pt={name:"Main",props:["navs"],components:{AppNav:y},methods:{}},mt=pt,gt=(n("kGG/"),Object(f["a"])(mt,ft,dt,!1,null,"05874aeb",null)),ht=gt.exports,_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"new_song"},[n("Slider",{staticClass:"new_song__slider",attrs:{data:t.sliderData}}),n("AppMusicList",{staticClass:"new_song__music_list",attrs:{"music-list":t.newSongs}})],1)},vt=[],yt=n("iv4g"),bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"music_list"},t._l(t.musicList,function(e,s){return n("li",{key:s,staticClass:"music_list__item main_border_bottom"},[t._t("index",null,{data:s}),n("div",{staticClass:"music_list__name",on:{click:function(n){t.wantPlay(e)}}},[t._v(t._s(e.filename))]),n("button",{staticClass:"music_list__download"},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-download"}})])])],2)}))},xt=[],wt={name:"AppMusicList",props:{musicList:{type:Array,default:function(){return[]}}},methods:{wantPlay:function(t){this.$store.commit("player/wantPlay",{music:t,musicList:this.$props.musicList})}}},Ct=wt,kt=(n("4m5f"),Object(f["a"])(Ct,bt,xt,!1,null,"257b092e",null)),It=kt.exports,Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"slider"},[n("swiper",{ref:"mySwiper",staticClass:"slider__body",attrs:{options:t.swiperOptions}},[t._l(t.data,function(t,e){return n("swiper-slide",{key:e},[n("a",{staticClass:"slider__link",attrs:{href:t.extra.tourl}},[n("img",{staticClass:"slider__img",attrs:{src:t.imgurl,alt:t.title}})])])}),n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)},Pt=[],Mt=n("chKg"),St=(n("36R9"),{name:"Slider",props:["data"],components:{swiper:Mt["swiper"],swiperSlide:Mt["swiperSlide"]},data:function(){return{swiperOptions:{autoplay:{delay:3e3,stopOnLastSlide:!0,disableOnInteraction:!1},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0,hideOnClick:!1},on:{imagesReady:function(){this.autoplay.start()},slideChangeTransitionEnd:function(){var t=this;this.isEnd&&(this.autoplay.stop(),//! avoid blink in chrome, change to the same picture after render
setTimeout(function(){t.slideTo(0,0),setTimeout(function(){t.autoplay.start()},t.params.autoplay.delay)}))}}}}}}),jt=St,Ot=(n("GPe4"),Object(f["a"])(jt,Lt,Pt,!1,null,"4093d1d3",null)),At=Ot.exports,Et=n("vDqi"),Rt=n.n(Et),zt=(n("xpiv"),"https://bird.ioliu.cn/v1?url="),Dt="http://m.kugou.com",Ht={newSong:Dt+"/?json=true",rankList:Dt+"/rank/list&json=true",rankInfo:Dt+"/rank/info/?page=1&json=true&rankid=",songList:Dt+"/plist/index&json=true",songListInfo:Dt+"/plist/list/songListId?json=true",singerCategory:Dt+"/singer/class&json=true",singerListInfo:Dt+"/singer/list/singerListInfoId?json=true",singerInfo:Dt+"/singer/info/singerId&json=true",songInfo:Dt+"/app/i/getSongInfo.php?cmd=playInfo&hash=",songInfoLyric:"http://www.kugou.com/yy/index.php?r=play/getdata&hash=",hotSearch:"http://mobilecdn.kugou.com/api/v3/search/hot?format=json&plat=0&count=30",searchResult:"http://mobilecdn.kugou.com/api/v3/search/song?format=json&page=1&pagesize=20&showtype=1&keyword="};Reflect.ownKeys(Ht).forEach(function(t){Ht[t]=zt+Ht[t]});var $t=Ht,Ut={name:"NewSong",computed:Object(w["a"])({},Object(I["b"])("newSong",["newSongs","sliderData"])),created:function(){this.getNewSong()},methods:{getNewSong:function(){var t=this;Rt.a.get($t.newSong).then(function(e){var n=e.data;t.$store.commit("replaceProperty",{paths:"newSong.newSongs",data:n.data});var s=n.banner;t.$store.commit("replaceProperty",{paths:"newSong.sliderData",data:Object(yt["a"])(s).concat([s[0]])})})}},components:{AppMusicList:It,Slider:At}},Nt=Ut,Gt=(n("OFc3"),Object(f["a"])(Nt,_t,vt,!1,null,"a7dd386c",null)),Bt=Gt.exports,Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"rank_list"},[n("PubList",{staticClass:"rank_list__cont",attrs:{"pub-list":t.rankList},scopedSlots:t._u([{key:"cont",fn:function(e){return n("div",{staticClass:"rank_list__info"},[t._v(t._s(e.data.title))])}}])})],1)},Vt=[],qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"list",on:{scroll:function(e){t.$_xsl__loadImgLazy(t.$refs.lazyImages)}}},t._l(t.pubList,function(e,a){return s("li",{key:a,staticClass:"list__item main_border_bottom"},[s("router-link",{staticClass:"list__link",attrs:{to:e.path}},[s("img",{ref:"lazyImages",refInFor:!0,staticClass:"list__img lazy_image",attrs:{src:n("a83/"),"data-src":e.imgUrl,"data-is-loaded":t.isLoaded}}),t._t("cont",null,{data:e}),s("button",{staticClass:"list__btn arrow arrow--right"})],2)],1)}))},Xt=[],Kt={name:"PubList",mixins:[et],props:{pubList:{type:Array,default:function(){return[]}}},mounted:function(){var t=this.$refs.lazyImages;this.$_xsl__detectToLoadImgLazy(t,this.$el,".lazy_image")}},Zt=Kt,Yt=(n("RgV5"),Object(f["a"])(Zt,qt,Xt,!1,null,"08f00df0",null)),Ft=Yt.exports,Wt={name:"RankList",mixins:[et],components:{PubList:Ft},computed:Object(w["a"])({},Object(I["b"])("rank",["rankList"])),created:function(){this.getRank()},methods:{getRank:function(){var t=this;Rt.a.get($t.rankList).then(function(e){var n=e.data;n.rank.list.forEach(function(e){e.imgUrl=t.$_xsl__replaceImgUrlSize(e.imgurl),e.path="/rank/info/"+e.rankid,e.title=e.rankname}),t.$store.commit("replaceProperty",{paths:"rank.rankList",data:n.rank.list})})}}},Jt=Wt,Qt=(n("koh5"),Object(f["a"])(Jt,Tt,Vt,!1,null,"5b8b1342",null)),te=Qt.exports,ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"song_list"},[n("PubList",{staticClass:"song_list__cont",attrs:{"pub-list":t.songList},scopedSlots:t._u([{key:"cont",fn:function(e){return n("div",{staticClass:"song_list__info"},[n("div",{staticClass:"song_list__title"},[t._v(t._s(e.data.title))]),n("div",{staticClass:"song_list__star"},[n("svg",{staticClass:"icon song_list__icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-music"}})]),n("span",{staticClass:"song_list__popularity"},[t._v(t._s(e.data.popularity))])])])}}])})],1)},ne=[],se={name:"SongList",mixins:[et],components:{PubList:Ft},computed:Object(w["a"])({},Object(I["b"])("song",["songList"])),created:function(){this.getSongList()},methods:{getSongList:function(){var t=this;Rt.a.get($t.songList).then(function(e){var n=e.data;n.plist.list.info.forEach(function(e){e.imgUrl=t.$_xsl__replaceImgUrlSize(e.imgurl),e.path="/song/list/"+e.specialid,e.title=e.specialname,e.popularity=e.playcount}),t.$store.commit("replaceProperty",{paths:"song.songList",data:n.plist.list.info})})}}},ae=se,ie=(n("XfBd"),Object(f["a"])(ae,ee,ne,!1,null,"c41b6a70",null)),re=ie.exports,oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"singer_category"},t._l(t.singerCategories,function(e,s){return n("ul",{key:s,staticClass:"singer_category__list main_border"},t._l(e.data,function(e,s){return n("li",{key:"1"+s,staticClass:"singer_category__item main_border_bottom"},[n("router-link",{staticClass:"singer_category__link",attrs:{to:e.path}},[n("div",{staticClass:"singer_category__title"},[t._v(t._s(e.classname))]),n("button",{staticClass:"singer_category_btn arrow arrow--right"})])],1)}))}))},ce=[],le=(n("dRSK"),{name:"SingerCategory",computed:Object(w["a"])({},Object(I["b"])("singer",["singerCategories"])),created:function(){this.getSingerCategories()},methods:{getSingerCategories:function(){var t=this;Rt.a.get($t.singerCategory).then(function(e){var n=e.data,s=n.list.reduce(function(t,e){e.path="/singer/list/"+e.classid;var n=t.find(function(t){return t.category===e.classname.substring(0,2)});return n?n.data.push(e):t.push({category:e.classname.substring(0,2),data:[e]}),t},[]);t.$store.commit("replaceProperty",{paths:"singer.singerCategories",data:s})})}}}),ue=le,fe=(n("QfGm"),Object(f["a"])(ue,oe,ce,!1,null,"c9ce87b6",null)),de=fe.exports,pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"rank_info"},[n("PubModuleHead",{attrs:{"module-head-info":t.getModuleHeadInfo}},[n("time",{staticClass:"rank_info__update_time",attrs:{slot:"moduleUpdateTime"},slot:"moduleUpdateTime"},[t._v(t._s(t.msg)+" "+t._s(t.formatDate))])]),n("AppMusicList",{attrs:{"music-list":t.getMusicList},scopedSlots:t._u([{key:"index",fn:function(e){return n("div",{class:"rank_info__index rank_info__index"+(e.data+1)},[t._v(t._s(e.data+1))])}}])})],1)},me=[],ge=(n("9XZr"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"module__head",style:"background-image:url("+t.moduleHeadInfo.imgUrl+")"},[n("h6",{staticClass:"module__title"},[t._v(t._s(t.moduleHeadInfo.name))]),t._t("moduleUpdateTime")],2),t._t("moduleDes")],2)}),he=[],_e={name:"PubModuleHead",props:{moduleHeadInfo:{type:Object,default:function(){return{}}}}},ve=_e,ye=(n("UhG2"),Object(f["a"])(ve,ge,he,!1,null,"684e12b2",null)),be=ye.exports,xe={name:"RankInfo",mixins:[et],components:{PubModuleHead:be,AppMusicList:It},data:function(){return{msg:"上次更新时间"}},computed:Object(w["a"])({},Object(I["b"])("rank",["rankInfo"]),{getModuleHeadInfo:function(){return{imgUrl:this.$_xsl__replaceImgUrlSize(this.rankInfo.info.banner7url),name:this.rankInfo.info.rankname}},getMusicList:function(){return this.rankInfo.songs.list},formatDate:function(){var t=new Date(1e3*this.rankInfo.songs.timestamp);return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")}}),created:function(){var t=this.$route.path.split("/").pop();this.getRankInfo(t)},methods:{getRankInfo:function(t){var e=this;Rt.a.get($t.rankInfo+t).then(function(t){var n={info:t.data.info,songs:t.data.songs};e.$store.commit("replaceProperty",{paths:"rank.rankInfo",data:n})}).catch(function(t){alert(t)})}}},we=xe,Ce=(n("qxzV"),Object(f["a"])(we,pe,me,!1,null,"5f629fb2",null)),ke=Ce.exports,Ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"song_list_info"},[n("PubModuleHead",{attrs:{"module-head-info":t.getModuleHeadInfo}},[n("PubModuleDes",{attrs:{slot:"moduleDes",description:t.getModuleHeadInfo.intro},slot:"moduleDes"})],1),n("AppMusicList",{attrs:{"music-list":t.getMusicList}})],1)},Le=[],Pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.showMore?"module_info__intro main_box_shadow show_more":"module_info__intro main_box_shadow"},[n("p",{staticClass:"module_info__text"},[t._v(t._s(t.description))]),n("button",{class:t.showMore?"more_btn more_btn--up":"more_btn",on:{click:function(e){t.showMore=!t.showMore}}})])},Me=[],Se={name:"PubModuleDes",props:{description:{type:String,default:function(){return""}}},data:function(){return{showMore:!1}},methods:{}},je=Se,Oe=(n("TEXX"),Object(f["a"])(je,Pe,Me,!1,null,"2db44100",null)),Ae=Oe.exports,Ee={name:"SongListInfo",mixins:[et],components:{PubModuleHead:be,AppMusicList:It,PubModuleDes:Ae},data:function(){return{}},computed:Object(w["a"])({},Object(I["b"])("song",["songListInfo"]),{getModuleHeadInfo:function(){var t=this.songListInfo.info.list;return{imgUrl:this.$_xsl__replaceImgUrlSize(t.imgurl),name:t.specialname,intro:t.intro}},getMusicList:function(){return this.songListInfo.songs.list.info}}),created:function(){var t=this.$route.path.split("/").pop();this.getSongListInfo(t)},methods:{getSongListInfo:function(t){var e=this;Rt.a.get($t.songListInfo.replace(/songListId?/i,t)).then(function(t){var n=t.data,s={info:n.info,songs:n.list};e.$store.commit("replaceProperty",{paths:"song.songListInfo",data:s})}).catch(function(t){alert(t)})}}},Re=Ee,ze=(n("WhAj"),Object(f["a"])(Re,Ie,Le,!1,null,"2b7ba343",null)),De=ze.exports,He=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"singer_list_info"},[s("PubModuleTitle",{attrs:{title:t.singerListInfo.info.name}}),s("ul",{staticClass:"singer_list_info__list",on:{scroll:function(e){t.$_xsl__loadImgLazy(t.$refs.lazyImages)}}},t._l(t.singerListInfo.data,function(e,a){return s("li",{key:a,staticClass:"singer_list_info__item main_border_bottom"},[s("router-link",{staticClass:"singer_list_info__link",attrs:{to:e.path}},[s("img",{ref:"lazyImages",refInFor:!0,staticClass:"singer_list_info__img lazy_image",attrs:{src:n("a83/"),"data-src":e.imgUrl,"data-is-loaded":t.isLoaded}}),s("div",{staticClass:"singer_list_info__name"},[t._v(t._s(e.name))])])],1)}))],1)},$e=[],Ue=(n("91GP"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h4",{staticClass:"module_title main_box_shadow"},[t._v(t._s(t.title))])}),Ne=[],Ge={name:"PubModuleTitle",props:{title:{type:String,default:function(){return""}}}},Be=Ge,Te=(n("l0o0"),Object(f["a"])(Be,Ue,Ne,!1,null,"2ae42ab0",null)),Ve=Te.exports,qe={name:"SingerListInfo",mixins:[et],components:{PubModuleTitle:Ve},computed:Object(w["a"])({},Object(I["b"])("singer",["singerListInfo"])),watch:{"singerListInfo.data.length":function(){this.$nextTick(function(){this.$_xsl__loadImgLazy(this.$refs.lazyImages)})}},created:function(){var t=this.$route.path.split("/").pop();this.getSingerListInfo(t)},mounted:function(){var t=this.$refs.lazyImages;this.$_xsl__detectToLoadImgLazy(t,this.$el,".lazy_image")},methods:{getSingerListInfo:function(t){var e=this;Rt.a.get($t.singerListInfo.replace(/singerListInfoId?/i,t)).then(function(t){var n=t.data,s={info:{id:n.classid,name:n.classname,count:n.singers.total},data:n.singers.list.info};n.singers.list.info.forEach(function(t){t.id=t.singerid,t.name=t.singername,t.imgUrl=e.$_xsl__replaceImgUrlSize(t.imgurl),t.path="/singer/info/"+t.id}),Object.assign(e.singerListInfo,s),e.$store.commit("replaceProperty",{paths:"singer.singerListInfo",data:s})}).catch(function(t){alert(t)})}}},Xe=qe,Ke=(n("08FR"),Object(f["a"])(Xe,He,$e,!1,null,"f52801be",null)),Ze=Ke.exports,Ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"singer_info"},[n("PubModuleHead",{attrs:{"module-head-info":t.getModuleHeadInfo}},[n("PubModuleDes",{attrs:{slot:"moduleDes",description:t.getModuleHeadInfo.intro},slot:"moduleDes"})],1),n("AppMusicList",{attrs:{"music-list":t.getMusicList}})],1)},Fe=[],We={name:"SingerInfo",mixins:[et],components:{PubModuleHead:be,AppMusicList:It,PubModuleDes:Ae},computed:Object(w["a"])({},Object(I["b"])("singer",["singerInfo"]),{getModuleHeadInfo:function(){return this.singerInfo.info},getMusicList:function(){return this.singerInfo.data}}),created:function(){var t=this.$route.path.split("/").pop();this.getSingerInfo(t)},methods:{getSingerInfo:function(t){var e=this;Rt.a.get($t.singerInfo.replace(/singerId?/i,t)).then(function(t){var n=t.data,s={info:{id:n.info.singerid,name:n.info.singername,count:n.info.songcount,albumcount:n.info.albumcount,imgUrl:e.$_xsl__replaceImgUrlSize(n.info.imgurl),intro:n.info.intro},data:n.songs.list};n.songs.list.forEach(function(t){t.name=t.filename}),Object.assign(e.singerInfo,s),e.$store.commit("replaceProperty",{paths:"singer.singerInfo",data:s})}).catch(function(t){alert(t)})}}},Je=We,Qe=(n("HZA2"),Object(f["a"])(Je,Ye,Fe,!1,null,"4d998d1f",null)),tn=Qe.exports,en=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"search"},[n("PubModuleTitle",{staticClass:"search__title",attrs:{title:t.title}}),n("div",{ref:"searchCont",staticClass:"search__cont"},[n("form",{staticClass:"search__form",on:{submit:function(t){t.preventDefault()}}},[n("input",{staticClass:"search__input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.keyword},on:{"update:value":function(e){t.keyword=e},input:function(e){t.keyword=arguments[0].target.value.trim()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.getSearchRes(e):null}}}),n("button",{class:t.isSearchResShow?"search__btn search__btn--active":"search__btn",attrs:{type:"button"},on:{click:t.getSearchRes}},[t._v(t._s(t.title))])]),t.isSearchRecShow?n("div",{staticClass:"search__rec"},[n("h6",{staticClass:"search__type"},[t._v(t._s(t.searchType))]),n("ul",{staticClass:"search__list"},t._l(t.searchRecArr,function(e,s){return n("li",{key:s,staticClass:"search__item main_border_bottom",on:{click:function(n){t.getTargetList(e.keyword)}}},[t._v(t._s(e.keyword))])}))]):t._e(),t.isSearchResShow?n("div",{staticClass:"search__res"},[n("div",{staticClass:"search__count"},[t._v("共有"+t._s(t.searchRes.info.length)+"条结果")]),n("AppMusicList",{staticClass:"search__res-list",attrs:{"music-list":t.searchRes.info}})],1):t._e()])],1)},nn=[],sn={name:"Search",components:{PubModuleTitle:Ve,AppMusicList:It},data:function(){return{title:"搜索",searchType:"最近热门",placeholder:"歌手/歌名/拼音",keyword:"",isSearchRecShow:!0,isSearchResShow:!1}},computed:Object(w["a"])({},Object(I["b"])("search",["searchRecArr","searchRes"])),created:function(){this.getSearchRec()},mounted:function(){var t=this,e=document.getElementsByClassName("search__cont")[0];window.search__cont=e;//! bug with qq browser
var n=function(){e.scrollTop&&console.log(event.type,e.scrollTop)};window.addEventListener("touchstart",n),window.addEventListener("touchmove",n),c.$on("searchBtnClicked",function(){t.$refs.searchCont&&(t.$refs.searchCont.scrollTop=0)})},methods:{getSearchRec:function(){var t=this;Rt.a.get($t.hotSearch).then(function(e){var n=e.data;t.$store.commit("replaceProperty",{paths:"search.searchRecArr",data:n.data.info})}).catch(function(t){alert(t)})},getSearchRes:function(){var t=this;if(""!==this.keyword){var e=$t.searchResult+encodeURIComponent(this.keyword);Rt.a.get(e).then(function(e){t.$store.commit("replaceProperty",{paths:"search.searchRes",data:e.data.data}),t.isSearchRecShow=!1,t.isSearchResShow=!0})}},getTargetList:function(t){this.keyword=t,this.getSearchRes()}}},an=sn,rn=(n("lXfi"),Object(f["a"])(an,en,nn,!1,null,"19ca9b80",null)),on=rn.exports;s["a"].use(ut["a"]);var cn=new ut["a"]({routes:[{path:"/",component:ht,children:[{path:"/",component:Bt},{path:"rank/list",component:te},{path:"song/list",component:re},{path:"singer/category",component:de}]},{path:"/rank/info/:id",component:ke},{path:"/song/list/:id",component:De},{path:"/singer/list/:id",component:Ze},{path:"/singer/info/:id",component:tn},{path:"/search/index",component:on}]}),ln=(n("a1Th"),{namespaced:!0,state:{vh:document.documentElement.clientHeight,vMax:Math.max(document.documentElement.clientHeight,document.documentElement.clientWidth)}}),un=ln,fn=(n("INYr"),{namespaced:!0,state:{musicList:[],music:null,song:{},audioEl:{},isPlaying:!1},getters:{curMusicIndex:function(t){return t.musicList.findIndex(function(e){return e===t.music})}},mutations:{findAudioEl:function(t,e){t.audioEl=e},wantPlay:function(t,e){var n=e.music,s=e.musicList,a=void 0===s?t.musicList:s;t.music=n,t.musicList=a,Rt.a.get($t.songInfo+n.hash).then(function(e){t.song=e.data})},togglePlay:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!t.isPlaying;e?(t.audioEl.play(),t.isPlaying=!0):(t.audioEl.pause(),t.isPlaying=!1)},next:function(t){var e=fn.getters.curMusicIndex;e=e===t.musicList.length-1?-1:e,fn.commit("wantPlay",{music:t.musicList[e+1]})},prev:function(t){var e=fn.getters.curMusicIndex;e=0===e?t.musicList.length:e,fn.commit("wantPlay",{music:t.musicList[e-1]})}}}),dn=fn,pn={namespaced:!0,state:{rankList:[],rankInfo:{info:{},songs:{timestamp:Date.now(),list:[]}}}},mn=pn,gn={namespaced:!0,state:{singerCategories:[],singerInfo:{info:{},data:[]},singerListInfo:{info:{},data:[]}}},hn=gn,_n={namespaced:!0,state:{songList:[],songListInfo:{info:{list:{}},songs:{list:{info:[]}}}}},vn=_n,yn={namespaced:!0,state:{searchRecArr:[],searchRes:{}}},bn=yn,xn={namespaced:!0,state:{newSongs:[],sliderData:[]}},wn=xn;s["a"].use(I["a"]);var Cn=new I["a"].Store({modules:{device:un,player:dn,rank:mn,singer:hn,song:vn,newSong:wn,search:bn},mutations:{replaceProperty:function(t,e){var n=e.paths,s=e.data;if("string"===Object.prototype.toString.call("s").slice(-7,-1).toLowerCase()){n=n.split(".");var a=n.slice(0,-1).reduce(function(t,e){return t[e]},t);a[n.pop()]=s}}}}),kn=Cn;n("TuJu"),n("MhW3"),n("OhDf");s["a"].config.productionTip=!1,s["a"].prototype.window=window,new s["a"]({router:cn,store:kn,render:function(t){return t(lt)}}).$mount("#app")},WeTg:function(t,e,n){},WhAj:function(t,e,n){"use strict";var s=n("G6fP"),a=n.n(s);a.a},XfBd:function(t,e,n){"use strict";var s=n("FM4M"),a=n.n(s);a.a},Xg4F:function(t,e,n){"use strict";var s=n("Bz9c"),a=n.n(s);a.a},YL1B:function(t,e,n){},"a83/":function(t,e){t.exports="data:image/png;base64,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"},agPH:function(t,e,n){"use strict";var s=n("GMMi"),a=n.n(s);a.a},cD3i:function(t,e,n){},dvoZ:function(t,e,n){"use strict";var s=n("WeTg"),a=n.n(s);a.a},h0SH:function(t,e,n){},hY6m:function(t,e,n){},"kGG/":function(t,e,n){"use strict";var s=n("+Gjc"),a=n.n(s);a.a},koh5:function(t,e,n){"use strict";var s=n("VKrM"),a=n.n(s);a.a},l0o0:function(t,e,n){"use strict";var s=n("YL1B"),a=n.n(s);a.a},lXfi:function(t,e,n){"use strict";var s=n("h0SH"),a=n.n(s);a.a},mzGh:function(t,e,n){"use strict";var s=n("x+lV"),a=n.n(s);a.a},nWR2:function(t,e,n){t.exports=n.p+"static/img/logo.d488aa15.png"},oqVw:function(t,e,n){"use strict";var s=n("8300"),a=n.n(s);a.a},qxzV:function(t,e,n){"use strict";var s=n("DjQE"),a=n.n(s);a.a},vqmV:function(t,e,n){},"x+lV":function(t,e,n){},x9wi:function(t,e,n){},xh4Y:function(t,e,n){"use strict";var s=n("cD3i"),a=n.n(s);a.a}});
//# sourceMappingURL=app.abe32ae6.js.map