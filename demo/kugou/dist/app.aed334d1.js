(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)r=o[d],a[r]&&p.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},a={1:0},i=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([30,0]),n()})({"/BXv":function(t,e,n){"use strict";var s=n("D2bi"),a=n.n(s);a.a},"/psH":function(t,e,n){"use strict";var s=n("h1ze"),a=n.n(s);a.a},"2AMT":function(t,e,n){"use strict";var s=n("wcme"),a=n.n(s);a.a},"2JMw":function(t,e,n){"use strict";var s=n("h0jY"),a=n.n(s);a.a},30:function(t,e,n){t.exports=n("Vtdi")},"3xKy":function(t,e,n){"use strict";var s=n("CdDZ"),a=n.n(s);a.a},"4zOf":function(t,e){t.exports="data:image/png;base64,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"},"50P/":function(t,e,n){},"6N6I":function(t,e,n){},"7AWZ":function(t,e,n){"use strict";var s=n("Bn8N"),a=n.n(s);a.a},"7v0G":function(t,e,n){"use strict";var s=n("Fwhj"),a=n.n(s);a.a},"972z":function(t,e,n){},"9a7u":function(t,e,n){"use strict";var s=n("TsGv"),a=n.n(s);a.a},"9oDX":function(t,e,n){},Bn8N:function(t,e,n){},CdDZ:function(t,e,n){},D2bi:function(t,e,n){},ExvP:function(t,e,n){"use strict";var s=n("smZr"),a=n.n(s);a.a},FSkI:function(t,e,n){},Fwhj:function(t,e,n){},G6fP:function(t,e,n){},GPe4:function(t,e,n){"use strict";var s=n("FSkI"),a=n.n(s);a.a},HZA2:function(t,e,n){"use strict";var s=n("50P/"),a=n.n(s);a.a},HxNg:function(t,e,n){},JRu2:function(t,e,n){},"K6a/":function(t,e,n){"use strict";var s=n("MSFM"),a=n.n(s);a.a},KQkX:function(t,e,n){"use strict";var s=n("Wgyz"),a=n.n(s);a.a},KRmC:function(t,e,n){"use strict";var s=n("9oDX"),a=n.n(s);a.a},LgSe:function(t,e,n){},MSFM:function(t,e,n){},MhW3:function(t,e,n){},N5P8:function(t,e,n){"use strict";var s=n("oPn7"),a=n.n(s);a.a},OFc3:function(t,e,n){"use strict";var s=n("HxNg"),a=n.n(s);a.a},OhDf:function(t,e,n){},QVn5:function(t,e,n){"use strict";var s=n("ZcYR"),a=n.n(s);a.a},QWAq:function(t,e,n){"use strict";var s=n("972z"),a=n.n(s);a.a},S5PJ:function(t,e,n){"use strict";var s=n("JRu2"),a=n.n(s);a.a},"T/PN":function(t,e,n){"use strict";var s=n("h3ty"),a=n.n(s);a.a},T1wy:function(t,e,n){},TsGv:function(t,e,n){},TuJu:function(t,e,n){},VKrM:function(t,e,n){},Vtdi:function(t,e,n){"use strict";n.r(e);n("VRzm");var s=n("Kw5r"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"app",staticClass:"app",attrs:{id:"app"}},[n("AppHeader",{staticClass:"app__header"}),n("router-view",{staticClass:"app__cont",attrs:{navs:t.navs}}),n("audio",{ref:"audioEl",staticClass:"hidden",attrs:{src:t.song.play_url,loop:""},on:{canplay:function(e){t.togglePlay(!0)}}}),n("PlayerMed",{directives:[{name:"show",rawName:"v-show",value:t.isPlayerMedShow&&"/player/max"!==t.$route.path,expression:"isPlayerMedShow&&$route.path!=='/player/max'"}],class:t.isPlayerMedSmall?"app__player app__player--min":"app__player app__player--med"})],1)},i=[],r=n("yT7P"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"header"},[s("button",{staticClass:"header__back arrow arrow--left",on:{click:t.goBack}}),s("router-link",{attrs:{to:"/"}},[s("img",{staticClass:"header__logo",attrs:{src:n("nWR2")}})]),s("router-link",{staticClass:"header__search_btn",attrs:{to:"/search/index"},nativeOn:{click:function(e){t.bus.$emit("searchBtnClicked")}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-search"}})])])],1)},c=[],l=n("L2JU"),u=new s["a"],d={name:"AppHeader",data:function(){return{bus:u}},computed:Object(r["a"])({},Object(l["d"])("player",["curPlayerId"])),methods:Object(r["a"])({},Object(l["c"])("player",["togglePlayers"]),{goBack:function(){1!==this.curPlayerId?history.go(-1):this.togglePlayers(1)}})},p=d,h=(n("T/PN"),n("KHd+")),f=Object(h["a"])(p,o,c,!1,null,"66102fe0",null),g=f.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"nav"},t._l(t.navs,function(e,s){return n("router-link",{key:s,staticClass:"nav__link",attrs:{to:e.link,"exact-active-class":"nav__link--active"}},[t._v(t._s(e.text))])}))},_=[],y={name:"AppNav",props:{navs:{type:Array,default:function(){return[]}}}},v=y,b=(n("9a7u"),Object(h["a"])(v,m,_,!1,null,"d81a3ef0",null)),C=b.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"player"},[n("router-link",{staticClass:"player__link",attrs:{to:{name:"PlayerMax",params:{fromPlayerMed:1},query:{musicHash:t.song.hash}}}},[n("img",{class:t.isPlayerMedSmall?"player__singer_img player__singer_img--player_min":"player__singer_img",attrs:{src:t.singerImg?t.singerImg:"../../assets/images/logo--sky_blue.png",alt:""}}),n("div",{staticClass:"player__song_info"},[n("div",{staticClass:"player__song_name"},[t._v(t._s(t.songName))]),n("div",{staticClass:"player__singer_name"},[t._v(t._s(t.singerName))])])]),n("div",{staticClass:"player__buttons"},[n("PrevButton",{staticClass:"player__btn_prev"}),n("PlayButton",{staticClass:"player__btn_status"}),n("NextButton",{staticClass:"play__btn_next"})],1)],1)},S=[],k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"play",on:{click:t.togglePlay}},[n("svg",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}],staticClass:"icon play__pause",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-pause"}})]),n("svg",{directives:[{name:"show",rawName:"v-show",value:!t.isPlaying,expression:"!isPlaying"}],staticClass:"icon play__play",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-play"}})])])},P=[],I={name:"PlayButton",computed:{isPlaying:function(){return this.$store.state.player.isPlaying}},methods:{togglePlay:function(){this.$store.commit("player/togglePlay",void 0,{root:!0})}}},x=I,L=(n("KRmC"),Object(h["a"])(x,k,P,!1,null,"9614d58c",null)),M=L.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"next_button",on:{click:t.next}},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-next"}})])])},E=[],j={name:"nextButton",methods:{next:function(){this.$store.commit("player/next")}}},A=j,T=(n("/psH"),Object(h["a"])(A,O,E,!1,null,"10088b0c",null)),R=T.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"player__btn_prev",on:{click:t.prev}},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-previous"}})])])},H=[],U={name:"PrevButton",methods:{prev:function(){this.$store.commit("player/prev")}}},B=U,D=(n("3xKy"),Object(h["a"])(B,N,H,!1,null,"307ce5a1",null)),K=D.exports,J={name:"PlayerMed",components:{PlayButton:M,NextButton:R,PrevButton:K},computed:Object(r["a"])({},Object(l["d"])("player",["song","isPlayerMedSmall"]),Object(l["b"])("player",["songName","singerName","singerImg"])),methods:Object(r["a"])({},Object(l["c"])("player",["togglePlayers"]))},z=J,G=(n("jkM1"),Object(h["a"])(z,w,S,!1,null,"1ec67cc6",null)),Z=G.exports,V={name:"App",components:{AppHeader:g,AppNav:C,PlayerMed:Z},data:function(){return{navs:[{text:"新歌",name:"new",active:!0,link:"/"},{text:"排行",name:"rank",active:!1,link:"/rank/list"},{text:"歌单",name:"song",active:!1,link:"/song/list"},{text:"歌手",name:"singer",active:!1,link:"/singer/category"}]}},beforeCreate:function(){},destroyed:function(){},mounted:function(){document.documentElement.style.fontSize=this.vMax+"px",this.findAudioEl(this.$refs.audioEl)},computed:Object(r["a"])({},Object(l["d"])("player",{isPlayerMedShow:"isPlayerMedShow",isPlayerMedSmall:"isPlayerMedSmall",music:"music",song:"song"}),Object(l["d"])("device",{vMax:"vMax"})),methods:Object(r["a"])({},Object(l["c"])("player",{findAudioEl:"findAudioEl",togglePlay:"togglePlay"}),Object(l["c"])({replaceProperty:"replaceProperty"}))},Y=V,X=(n("K6a/"),Object(h["a"])(Y,a,i,!1,null,"0baeda4a",null)),q=X.exports,W=n("jE9Z"),Q=(n("KKXr"),{namespaced:!0,state:{vh:document.documentElement.clientHeight,vMax:Math.max(document.documentElement.clientHeight,document.documentElement.clientWidth)}}),F=Q,$=(n("xfY5"),n("pIFo"),n("INYr"),n("vDqi")),tt=n.n($),et=(n("xpiv"),n("rGqo"),"https://bird.ioliu.cn/v1?url="),nt="http://m.kugou.com",st={newSong:nt+"/?json=true",rankList:nt+"/rank/list&json=true",rankInfo:nt+"/rank/info/?page=1&json=true&rankid=",songList:nt+"/plist/index&json=true",songListInfo:nt+"/plist/list/songListId?json=true",singerCategory:nt+"/singer/class&json=true",singerListInfo:nt+"/singer/list/singerListInfoId?json=true",singerInfo:nt+"/singer/info/singerId&json=true",songInfo:nt+"/app/i/getSongInfo.php?cmd=playInfo&hash=",songInfoLyric:"http://www.kugou.com/yy/index.php?r=play/getdata&hash=",hotSearch:"http://mobilecdn.kugou.com/api/v3/search/hot?format=json&plat=0&count=30",searchResult:"http://mobilecdn.kugou.com/api/v3/search/song?format=json&page=1&pagesize=20&showtype=1&keyword="};Reflect.ownKeys(st).forEach(function(t){st[t]=et+st[t]});var at=st,it=(n("9XZr"),{$_xsl__replaceImgUrlSize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.imgSize;return t.replace(/\{\s*size\s*\}/,e)},secondToMin:function(t){if(isNaN(Number(t)))return"00:00";t=Math.floor(t);var e=t%60,n=Math.floor(t/60);return String(n).padStart(2,"0")+":"+String(e).padStart(2,"0")}});function rt(t){return t.musicList.findIndex(function(e){return e.hash===t.song.hash})}var ot={namespaced:!0,state:{musicList:[],song:{},lyrics:"",audioEl:{},isPlaying:!1,isPlayerMedShow:!1,isPlayerMedSmall:!1},getters:{curMusicIndex:rt,singerImg:function(t){if(t.song.img)return it.$_xsl__replaceImgUrlSize(t.song.img,400)},singerName:function(t){return t.song.author_name},songName:function(t){return t.song.song_name},lyricItems:function(t){var e=t.lyrics.split(/\n/);return e.pop(),e.map(function(t){var e=t.replace("[","").split("]"),n=e[0],s=n.split(":")[0],a=n.split(":")[1].split(".")[0],i=n.split(":")[1].split(".")[1];return{millisecond:60*s*1e3+1e3*a+Number(i),text:e[1].trim().replace(/(男[:：]\s*)|(女[:：]\s*)/,"")}})}},mutations:{findAudioEl:function(t,e){t.audioEl=e},wantPlay:function(t,e){var n=e.musicHash,s=e.musicList,a=void 0===s?t.musicList:s;t.isPlayerMedShow=!0,t.isPlayerMedSmall=!1,tt.a.get(at.songInfoLyric+n).then(function(e){var n=e.data.data;t.musicList=0===a.length?[n]:a,bt.commit("replaceProperty",{paths:"player.lyrics",data:n.lyrics}),bt.commit("replaceProperty",{paths:"player.song",data:n})})},togglePlay:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!t.isPlaying;e?(t.audioEl.play(),t.isPlaying=!0):(t.audioEl.pause(),t.isPlaying=!1)},next:function(t){var e=rt(t);e<0||(e=e===t.musicList.length-1?-1:e,bt.commit("player/wantPlay",{musicHash:t.musicList[e+1].hash}))},prev:function(t){var e=rt(t);e<0||(e=0===e?t.musicList.length:e,bt.commit("player/wantPlay",{musicHash:t.musicList[e-1].hash}))},togglePlayers:function(t,e){switch(e){case 0:t.curPlayerId=1;break;case 1:t.curPlayerId=0;break}}},actions:{}},ct=ot,lt={namespaced:!0,state:{rankList:[],rankInfo:{info:{},songs:{timestamp:Date.now(),list:[]}}}},ut=lt,dt={namespaced:!0,state:{singerCategories:[],singerInfo:{info:{},data:[]},singerListInfo:{info:{},data:[]}}},pt=dt,ht={namespaced:!0,state:{songList:[],songListInfo:{info:{list:{}},songs:{list:{info:[]}}}}},ft=ht,gt={namespaced:!0,state:{searchRecArr:[],searchRes:{},prevKeyword:void 0}},mt=gt,_t={namespaced:!0,state:{newSongs:[],sliderData:[]}},yt=_t;s["a"].use(l["a"]);var vt=new l["a"].Store({modules:{device:F,player:ct,rank:ut,singer:pt,song:ft,newSong:yt,search:mt},mutations:{replaceProperty:function(t,e){var n=e.paths,s=e.data;if("string"===typeof n){n=n.split(".");var a=n.slice(0,-1).reduce(function(t,e){return t[e]},t);a[n.pop()]=s}}}});window.store=vt;var bt=vt,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"main"},[n("AppNav",{staticClass:"main__nav",attrs:{navs:t.navs}}),n("router-view",{staticClass:"main__cont"})],1)},wt=[],St={name:"Main",props:["navs"],components:{AppNav:C},methods:{}},kt=St,Pt=(n("7v0G"),Object(h["a"])(kt,Ct,wt,!1,null,"ec609bac",null)),It=Pt.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"new_song"},[n("Slider",{staticClass:"new_song__slider",attrs:{data:t.sliderData}}),n("AppMusicList",{staticClass:"new_song__music_list",attrs:{"music-list":t.newSongs}})],1)},Lt=[],Mt=n("iv4g"),Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"music_list"},t._l(t.musicList,function(e,s){return n("li",{key:s,staticClass:"music_list__item main_border_bottom"},[n("div",{staticClass:"music_list__info",on:{click:function(n){t.wantPlay(e.hash)}}},[t._t("index",null,{data:s}),n("div",{staticClass:"music_list__name"},[t._v(t._s(e.filename))])],2),n("button",{staticClass:"music_list__download"},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-download"}})])])])}))},Et=[],jt={name:"AppMusicList",props:{musicList:{type:Array,default:function(){return[]}}},methods:{wantPlay:function(t){console.log(event.type,Date.now()),this.$store.commit("player/wantPlay",{musicHash:t,musicList:this.$props.musicList})}}},At=jt,Tt=(n("soXW"),Object(h["a"])(At,Ot,Et,!1,null,"67b08215",null)),Rt=Tt.exports,Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"slider"},[n("swiper",{ref:"mySwiper",staticClass:"slider__body",attrs:{options:t.swiperOptions}},[t._l(t.data,function(t,e){return n("swiper-slide",{key:e},[n("a",{staticClass:"slider__link",attrs:{href:t.extra.tourl}},[n("img",{staticClass:"slider__img",attrs:{src:t.imgurl,alt:t.title}})])])}),n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)},Ht=[],Ut=n("chKg"),Bt=(n("36R9"),{name:"Slider",props:["data"],components:{swiper:Ut["swiper"],swiperSlide:Ut["swiperSlide"]},data:function(){return{swiperOptions:{autoplay:{delay:3e3,stopOnLastSlide:!0,disableOnInteraction:!1},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0,hideOnClick:!1},on:{imagesReady:function(){this.autoplay.start()},slideChangeTransitionEnd:function(){var t=this;this.isEnd&&(this.autoplay.stop(),//! avoid blink in chrome, change to the same picture after render
setTimeout(function(){t.slideTo(0,0),setTimeout(function(){t.autoplay.start()},t.params.autoplay.delay)}))}}}}}}),Dt=Bt,Kt=(n("GPe4"),Object(h["a"])(Dt,Nt,Ht,!1,null,"4093d1d3",null)),Jt=Kt.exports,zt={name:"NewSong",computed:Object(r["a"])({},Object(l["d"])("newSong",["newSongs","sliderData"])),created:function(){this.getNewSong()},methods:{getNewSong:function(){var t=this;tt.a.get(at.newSong).then(function(e){var n=e.data;t.$store.commit("replaceProperty",{paths:"newSong.newSongs",data:n.data});var s=n.banner;t.$store.commit("replaceProperty",{paths:"newSong.sliderData",data:Object(Mt["a"])(s).concat([s[0]])})})}},components:{AppMusicList:Rt,Slider:Jt}},Gt=zt,Zt=(n("OFc3"),Object(h["a"])(Gt,xt,Lt,!1,null,"a7dd386c",null)),Vt=Zt.exports,Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"rank_list"},[n("PubList",{staticClass:"rank_list__cont",attrs:{"pub-list":t.rankList},scopedSlots:t._u([{key:"cont",fn:function(e){return n("div",{staticClass:"rank_list__info"},[t._v(t._s(e.data.title))])}}])})],1)},Xt=[],qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"list",on:{scroll:function(e){t.$_xsl__loadImgLazy(t.$refs.lazyImages)}}},t._l(t.pubList,function(e,a){return s("li",{key:a,staticClass:"list__item main_border_bottom"},[s("router-link",{staticClass:"list__link",attrs:{to:e.path}},[s("img",{ref:"lazyImages",refInFor:!0,staticClass:"list__img lazy_image",attrs:{src:n("a83/"),"data-src":e.imgUrl,"data-is-loaded":t.isLoaded}}),t._t("cont",null,{data:e}),s("button",{staticClass:"list__btn arrow arrow--right"})],2)],1)}))},Wt=[],Qt=(n("HEwt"),n("oyJW")),Ft={data:function(){return{imgSize:400,isLoaded:!1}},methods:Object(r["a"])({},it,{vBindAttr:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data-";return Object(Qt["a"])({},"".concat(e+t),"")},$_xsl__detectToLoadImgLazy:function(t,e,n){var s=this;t&&0!==t.length?this.$_xsl__loadImgLazy(t):this.$_xsl__watchRefs(e,n).then(function(t){s.$_xsl__loadImgLazy(t)})},$_xsl__watchRefs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=arguments.length>1?arguments[1]:void 0;return new Promise(function(n){var s=new MutationObserver(i),a={childList:!0,subtree:!0};function i(s,a){s.forEach(function(s){if("childList"==s.type){var i=t.querySelectorAll(e);0!==i.length&&(a.disconnect(),n(Array.from(i)))}})}s.observe(t,a)})},$_xsl__loadImgLazy:function(t){var e=this;if(Array.isArray(t)){var n=t.filter(function(t){return!t.dataset.isLoaded});n.forEach(function(t){var n=t.getBoundingClientRect().top;n<e.$store.state.device.vh&&(t.src=t.dataset.src,t.dataset.isLoaded=!0)})}}})},$t={name:"PubList",mixins:[Ft],props:{pubList:{type:Array,default:function(){return[]}}},mounted:function(){var t=this.$refs.lazyImages;this.$_xsl__detectToLoadImgLazy(t,this.$el,".lazy_image")}},te=$t,ee=(n("KQkX"),Object(h["a"])(te,qt,Wt,!1,null,"459c2f9c",null)),ne=ee.exports,se={name:"RankList",mixins:[Ft],components:{PubList:ne},computed:Object(r["a"])({},Object(l["d"])("rank",["rankList"])),created:function(){this.getRank()},methods:{getRank:function(){var t=this;tt.a.get(at.rankList).then(function(e){var n=e.data;n.rank.list.forEach(function(e){e.imgUrl=t.$_xsl__replaceImgUrlSize(e.imgurl),e.path="/rank/info/"+e.rankid,e.title=e.rankname}),t.$store.commit("replaceProperty",{paths:"rank.rankList",data:n.rank.list})})}}},ae=se,ie=(n("koh5"),Object(h["a"])(ae,Yt,Xt,!1,null,"5b8b1342",null)),re=ie.exports,oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"song_list"},[n("PubList",{staticClass:"song_list__cont",attrs:{"pub-list":t.songList},scopedSlots:t._u([{key:"cont",fn:function(e){return n("div",{staticClass:"song_list__info"},[n("div",{staticClass:"song_list__title"},[t._v(t._s(e.data.title))]),n("div",{staticClass:"song_list__star"},[n("svg",{staticClass:"icon song_list__icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-music"}})]),n("span",{staticClass:"song_list__popularity"},[t._v(t._s(e.data.popularity))])])])}}])})],1)},ce=[],le={name:"SongList",mixins:[Ft],components:{PubList:ne},computed:Object(r["a"])({},Object(l["d"])("song",["songList"])),created:function(){this.getSongList()},methods:{getSongList:function(){var t=this;tt.a.get(at.songList).then(function(e){var n=e.data;n.plist.list.info.forEach(function(e){e.imgUrl=t.$_xsl__replaceImgUrlSize(e.imgurl),e.path="/song/list/"+e.specialid,e.title=e.specialname,e.popularity=e.playcount}),t.$store.commit("replaceProperty",{paths:"song.songList",data:n.plist.list.info})})}}},ue=le,de=(n("/BXv"),Object(h["a"])(ue,oe,ce,!1,null,"3b8f412d",null)),pe=de.exports,he=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"singer_category"},t._l(t.singerCategories,function(e,s){return n("ul",{key:s,staticClass:"singer_category__list main_border"},t._l(e.data,function(e,s){return n("li",{key:"1"+s,staticClass:"singer_category__item main_border_bottom"},[n("router-link",{staticClass:"singer_category__link",attrs:{to:e.path}},[n("div",{staticClass:"singer_category__title"},[t._v(t._s(e.classname))]),n("button",{staticClass:"singer_category_btn arrow arrow--right"})])],1)}))}))},fe=[],ge=(n("dRSK"),{name:"SingerCategory",computed:Object(r["a"])({},Object(l["d"])("singer",["singerCategories"])),created:function(){this.getSingerCategories()},methods:{getSingerCategories:function(){var t=this;tt.a.get(at.singerCategory).then(function(e){var n=e.data,s=n.list.reduce(function(t,e){e.path="/singer/list/"+e.classid;var n=t.find(function(t){return t.category===e.classname.substring(0,2)});return n?n.data.push(e):t.push({category:e.classname.substring(0,2),data:[e]}),t},[]);t.$store.commit("replaceProperty",{paths:"singer.singerCategories",data:s})})}}}),me=ge,_e=(n("S5PJ"),Object(h["a"])(me,he,fe,!1,null,"30dd6232",null)),ye=_e.exports,ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"rank_info"},[n("PubModuleHead",{attrs:{"module-head-info":t.getModuleHeadInfo}},[n("time",{staticClass:"rank_info__update_time",attrs:{slot:"moduleUpdateTime"},slot:"moduleUpdateTime"},[t._v(t._s(t.msg)+" "+t._s(t.formatDate))])]),n("AppMusicList",{attrs:{"music-list":t.getMusicList},scopedSlots:t._u([{key:"index",fn:function(e){return n("div",{class:"rank_info__index rank_info__index"+(e.data+1)},[t._v(t._s(e.data+1))])}}])})],1)},be=[],Ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"module__head",style:"background-image:url("+t.moduleHeadInfo.imgUrl+")"},[n("h6",{staticClass:"module__title"},[t._v(t._s(t.moduleHeadInfo.name))]),t._t("moduleUpdateTime")],2),t._t("moduleDes")],2)},we=[],Se={name:"PubModuleHead",props:{moduleHeadInfo:{type:Object,default:function(){return{}}}}},ke=Se,Pe=(n("N5P8"),Object(h["a"])(ke,Ce,we,!1,null,"4fc1ca70",null)),Ie=Pe.exports,xe={name:"RankInfo",mixins:[Ft],components:{PubModuleHead:Ie,AppMusicList:Rt},data:function(){return{msg:"上次更新时间"}},computed:Object(r["a"])({},Object(l["d"])("rank",["rankInfo"]),{getModuleHeadInfo:function(){return{imgUrl:this.$_xsl__replaceImgUrlSize(this.rankInfo.info.banner7url),name:this.rankInfo.info.rankname}},getMusicList:function(){return this.rankInfo.songs.list},formatDate:function(){var t=new Date(1e3*this.rankInfo.songs.timestamp);return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")}}),created:function(){var t=this.$route.path.split("/").pop();this.getRankInfo(t)},methods:{getRankInfo:function(t){var e=this;tt.a.get(at.rankInfo+t).then(function(t){var n={info:t.data.info,songs:t.data.songs};e.$store.commit("replaceProperty",{paths:"rank.rankInfo",data:n})}).catch(function(t){alert(t)})}}},Le=xe,Me=(n("WdDJ"),Object(h["a"])(Le,ve,be,!1,null,"0f5fa7f0",null)),Oe=Me.exports,Ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"song_list_info"},[n("PubModuleHead",{attrs:{"module-head-info":t.getModuleHeadInfo}},[n("PubModuleDes",{attrs:{slot:"moduleDes",description:t.getModuleHeadInfo.intro},slot:"moduleDes"})],1),n("AppMusicList",{attrs:{"music-list":t.getMusicList}})],1)},je=[],Ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.showMore?"module_info__intro main_box_shadow show_more":"module_info__intro main_box_shadow"},[n("p",{staticClass:"module_info__text"},[t._v(t._s(t.description))]),n("button",{class:t.showMore?"more_btn more_btn--up":"more_btn",on:{click:function(e){t.showMore=!t.showMore}}})])},Te=[],Re={name:"PubModuleDes",props:{description:{type:String,default:function(){return""}}},data:function(){return{showMore:!1}},methods:{}},Ne=Re,He=(n("2JMw"),Object(h["a"])(Ne,Ae,Te,!1,null,"09f577c7",null)),Ue=He.exports,Be={name:"SongListInfo",mixins:[Ft],components:{PubModuleHead:Ie,AppMusicList:Rt,PubModuleDes:Ue},data:function(){return{}},computed:Object(r["a"])({},Object(l["d"])("song",["songListInfo"]),{getModuleHeadInfo:function(){var t=this.songListInfo.info.list;return{imgUrl:this.$_xsl__replaceImgUrlSize(t.imgurl),name:t.specialname,intro:t.intro}},getMusicList:function(){return this.songListInfo.songs.list.info}}),created:function(){var t=this.$route.path.split("/").pop();this.getSongListInfo(t)},methods:{getSongListInfo:function(t){var e=this;tt.a.get(at.songListInfo.replace(/songListId?/i,t)).then(function(t){var n=t.data,s={info:n.info,songs:n.list};e.$store.commit("replaceProperty",{paths:"song.songListInfo",data:s})}).catch(function(t){alert(t)})}}},De=Be,Ke=(n("WhAj"),Object(h["a"])(De,Ee,je,!1,null,"2b7ba343",null)),Je=Ke.exports,ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"singer_list_info"},[s("PubModuleTitle",{attrs:{title:t.singerListInfo.info.name}}),s("ul",{staticClass:"singer_list_info__list",on:{scroll:function(e){t.$_xsl__loadImgLazy(t.$refs.lazyImages)}}},t._l(t.singerListInfo.data,function(e,a){return s("li",{key:a,staticClass:"singer_list_info__item main_border_bottom"},[s("router-link",{staticClass:"singer_list_info__link",attrs:{to:e.path}},[s("img",{ref:"lazyImages",refInFor:!0,staticClass:"singer_list_info__img lazy_image",attrs:{src:n("a83/"),"data-src":e.imgUrl,"data-is-loaded":t.isLoaded}}),s("div",{staticClass:"singer_list_info__name"},[t._v(t._s(e.name))])])],1)}))],1)},Ge=[],Ze=(n("91GP"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h4",{staticClass:"module_title main_box_shadow",on:{click:function(e){t.$emit("click",arguments[0])}}},[t._v(t._s(t.title))])}),Ve=[],Ye={name:"PubModuleTitle",props:{title:{type:String,default:function(){return""}}}},Xe=Ye,qe=(n("QWAq"),Object(h["a"])(Xe,Ze,Ve,!1,null,"500e72e2",null)),We=qe.exports,Qe={name:"SingerListInfo",mixins:[Ft],components:{PubModuleTitle:We},computed:Object(r["a"])({},Object(l["d"])("singer",["singerListInfo"])),watch:{"singerListInfo.data.length":function(){this.$nextTick(function(){this.$_xsl__loadImgLazy(this.$refs.lazyImages)})}},created:function(){var t=this.$route.path.split("/").pop();this.getSingerListInfo(t)},mounted:function(){var t=this.$refs.lazyImages;this.$_xsl__detectToLoadImgLazy(t,this.$el,".lazy_image")},methods:{getSingerListInfo:function(t){var e=this;tt.a.get(at.singerListInfo.replace(/singerListInfoId?/i,t)).then(function(t){var n=t.data,s={info:{id:n.classid,name:n.classname,count:n.singers.total},data:n.singers.list.info};n.singers.list.info.forEach(function(t){t.id=t.singerid,t.name=t.singername,t.imgUrl=e.$_xsl__replaceImgUrlSize(t.imgurl),t.path="/singer/info/"+t.id}),Object.assign(e.singerListInfo,s),e.$store.commit("replaceProperty",{paths:"singer.singerListInfo",data:s})}).catch(function(t){alert(t)})}}},Fe=Qe,$e=(n("QVn5"),Object(h["a"])(Fe,ze,Ge,!1,null,"3d7c3163",null)),tn=$e.exports,en=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"singer_info"},[n("PubModuleHead",{attrs:{"module-head-info":t.getModuleHeadInfo}},[n("PubModuleDes",{attrs:{slot:"moduleDes",description:t.getModuleHeadInfo.intro},slot:"moduleDes"})],1),n("AppMusicList",{attrs:{"music-list":t.getMusicList}})],1)},nn=[],sn={name:"SingerInfo",mixins:[Ft],components:{PubModuleHead:Ie,AppMusicList:Rt,PubModuleDes:Ue},computed:Object(r["a"])({},Object(l["d"])("singer",["singerInfo"]),{getModuleHeadInfo:function(){return this.singerInfo.info},getMusicList:function(){return this.singerInfo.data}}),created:function(){var t=this.$route.path.split("/").pop();this.getSingerInfo(t)},methods:{getSingerInfo:function(t){var e=this;tt.a.get(at.singerInfo.replace(/singerId?/i,t)).then(function(t){var n=t.data,s={info:{id:n.info.singerid,name:n.info.singername,count:n.info.songcount,albumcount:n.info.albumcount,imgUrl:e.$_xsl__replaceImgUrlSize(n.info.imgurl),intro:n.info.intro},data:n.songs.list};n.songs.list.forEach(function(t){t.name=t.filename}),Object.assign(e.singerInfo,s),e.$store.commit("replaceProperty",{paths:"singer.singerInfo",data:s})}).catch(function(t){alert(t)})}}},an=sn,rn=(n("HZA2"),Object(h["a"])(an,en,nn,!1,null,"4d998d1f",null)),on=rn.exports,cn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"search"},[n("PubModuleTitle",{staticClass:"search__title",attrs:{title:t.title},on:{click:t.goBackToSearchRec}}),n("div",{ref:"searchCont",staticClass:"search__cont"},[n("form",{staticClass:"search__form",on:{submit:function(t){t.preventDefault()}}},[n("input",{staticClass:"search__input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.keyword},on:{"update:value":function(e){t.keyword=e},input:function(e){t.keyword=arguments[0].target.value.trim()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.getSearchRes(e):null}}}),n("button",{class:t.isSearchResShow?"search__btn search__btn--active":"search__btn",attrs:{type:"button"},on:{click:t.getSearchRes}},[t._v(t._s(t.title))])]),t.isSearchRecShow?n("div",{staticClass:"search__rec"},[n("h6",{staticClass:"search__type"},[t._v(t._s(t.searchType))]),n("ul",{staticClass:"search__list"},t._l(t.searchRecArr,function(e,s){return n("li",{key:s,staticClass:"search__item main_border_bottom",on:{click:function(n){t.getTargetList(e.keyword)}}},[t._v(t._s(e.keyword))])}))]):t._e(),t.isSearchResShow?n("div",{staticClass:"search__res"},[n("div",{staticClass:"search__count"},[t._v("共有"+t._s(t.searchRes.info.length)+"条结果")]),n("AppMusicList",{staticClass:"search__res-list",attrs:{"music-list":t.searchRes.info}})],1):t._e()])],1)},ln=[],un={name:"Search",components:{PubModuleTitle:We,AppMusicList:Rt},data:function(){return{title:"搜索",searchType:"最近热门",placeholder:"歌手/歌名/拼音",keyword:"",isSearchRecShow:!1,isSearchResShow:!1}},computed:Object(r["a"])({},Object(l["d"])("search",["searchRecArr","searchRes","prevKeyword"])),created:function(){var t=this.$route.query.keyword,e="string"===typeof t&&""!==t,n="string"===typeof this.prevKeyword&&""!==this.prevKeyword;e||n?(this.keyword=e?t:this.prevKeyword,this.getSearchRes()):this.getSearchRec()},mounted:function(){var t=this,e=document.getElementsByClassName("search__cont")[0];window.search__cont=e;//! bug with qq browser
var n=function(){e.scrollTop&&console.log(event.type,e.scrollTop)};window.addEventListener("touchstart",n),window.addEventListener("touchmove",n),u.$on("searchBtnClicked",function(){t.$refs.searchCont&&(t.$refs.searchCont.scrollTop=0)})},methods:{getSearchRec:function(){var t=this;tt.a.get(at.hotSearch).then(function(e){var n=e.data;t.$store.commit("replaceProperty",{paths:"search.searchRecArr",data:n.data.info}),t.isSearchResShow=!1,t.isSearchRecShow=!0}).catch(function(t){alert(t)})},getSearchRes:function(){var t=this;if(""!==this.keyword){if(this.$router.push({query:{keyword:this.keyword}}),window.vm=this,this.keyword===this.prevKeyword)return this.isSearchRecShow=!1,void(this.isSearchResShow=!0);var e=at.searchResult+encodeURIComponent(this.keyword);tt.a.get(e).then(function(e){t.$store.commit("replaceProperty",{paths:"search.searchRes",data:e.data.data}),t.$store.commit("replaceProperty",{paths:"search.prevKeyword",data:t.keyword}),t.isSearchRecShow=!1,t.isSearchResShow=!0})}},getTargetList:function(t){this.keyword=t,this.getSearchRes()},goBackToSearchRec:function(){this.$router.push({query:{}}),this.getSearchRec()}}},dn=un,pn=(n("2AMT"),Object(h["a"])(dn,cn,ln,!1,null,"3b8eea4b",null)),hn=pn.exports,fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"player"},[n("div",{staticClass:"player__mask",style:t.playerBgImg}),n("div",{staticClass:"player__cont"},[n("h6",{staticClass:"player__song_name"},[t._v(t._s(t.songName))]),n("img",{class:t.isPlaying?"player__singer_img player__singer_img--active":"player__singer_img",attrs:{src:t.singerImg?t.singerImg:"../../assets/images/logo--sky_blue.png"}}),n("PlayerLyrics",{staticClass:"player__lyrics"}),n("PlayerProgress",{staticClass:"player__progress"}),n("div",{staticClass:"player__buttons"},[n("PrevButton",{staticClass:"player__btn_prev"}),n("PlayButton",{staticClass:"player__btn_status"}),n("NextButton",{staticClass:"play__btn_next"})],1),n("button",{staticClass:"player__download"})],1)])},gn=[],mn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player_lyric",on:{touchstart:function(e){t.isTouching=!0},touchend:function(e){t.isTouching=!1}}},t._l(t.lyricItems,function(e,s){return n("p",t._b({key:e.millisecond,ref:e.millisecond,refInFor:!0,class:s===t.prevLyricIndex+1?"player_lyric_text player_lyric_text--active ":"player_lyric_text"},"p",t.vBindAttr("millisecond-"+e.millisecond),!1),[t._v(t._s(e.text))])}))},_n=[],yn={name:"PlayerLyrics",mixins:[Ft],data:function(){return{prevLyricIndex:0,isTouching:!1}},computed:Object(r["a"])({},Object(l["d"])("player",["audioEl"]),Object(l["b"])("player",["lyricItems"]),{lyricMillisecond:function(){return this.lyricItems.map(function(t){return t.millisecond})}}),mounted:function(){var t=this;this.$nextTick(function(){t.audioEl.addEventListener("timeupdate",t.timeUpdateCb)})},destroyed:function(){this.audioEl.removeEventListener("timeupdate",this.timeUpdateCb)},methods:{timeUpdateCb:function(t){if(!this.isTouching){var e=Math.floor(1e3*t.target.currentTime),n=this.lyricMillisecond.findIndex(function(t){return t>1.005*e}),s=n>1?n-2:0,a=this.$refs&&this.$refs[this.lyricMillisecond[s]];a&&this.$refs[this.lyricMillisecond[s]][0].scrollIntoView(),this.prevLyricIndex=s}}}},vn=yn,bn=(n("7AWZ"),Object(h["a"])(vn,mn,_n,!1,null,"1ac749da",null)),Cn=bn.exports,wn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player_progress",on:{touchstart:t.setCurTime}},[n("div",{staticClass:"player_progress__song_cur_time"},[t._v(t._s(t.secondToMin(t.currentTime)))]),n("div",{ref:"progressBar",staticClass:"player_progress__progress_bar",style:t.progressBarStyle},[n("div",{staticClass:"player_progress__progress_bar_pointer",style:"left:"+t.currentProgress+"%;"})]),n("div",{staticClass:"player_progress__song_duration"},[t._v(t._s(t.secondToMin(t.audioEl.duration)))])])},Sn=[],kn={name:"PlayerProgress",mixins:[Ft],data:function(){return{currentTime:0,loadProgress:0,isTouching:!1,touchStartX:0,progressBarRect:null}},computed:Object(r["a"])({},Object(l["d"])("player",["song","audioEl"]),{currentProgress:function(){return Math.floor(100*this.currentTime/this.audioEl.duration)},progressBarStyle:function(){return"background-image:linear-gradient(to right, #2ca2f9 ".concat(this.currentProgress,"%, transparent ").concat(this.currentProgress,"%),linear-gradient(to right, #6c6b70 ").concat(this.loadProgress,"%, transparent ").concat(this.loadProgress,"%)")}}),mounted:function(){var t=this;this.$nextTick(function(){t.audioEl.addEventListener("progress",t.progressCb),t.audioEl.addEventListener("timeupdate",t.timeUpdateCb)})},destroyed:function(){this.audioEl.removeEventListener("progress",this.progressCb),this.audioEl.addEventListener("timeupdate",this.timeUpdateCb)},methods:{progressCb:function(){if(!(this.audioEl.readyState<2)){var t=this.audioEl.buffered.length;this.loadProgress=Math.floor(100*this.audioEl.buffered.end(t-1)/this.audioEl.duration)}},timeUpdateCb:function(t){this.isTouching||(this.currentTime=t.target.currentTime)},setCurTime:function(t){this.isTouching=!0,this.progressBarRect||(this.progressBarRect=this.$refs.progressBar.getBoundingClientRect());var e=t.touches[0].clientX;this.currentTime=this.calcCurTime(e,this.progressBarRect.left,0),this.touchStartX=e,window.addEventListener("touchmove",this.setCurTimeOnMove),window.addEventListener("touchend",this.touchEndCb)},setCurTimeOnMove:function(t){var e=t.touches[0].clientX;this.currentTime=this.calcCurTime(e,this.touchStartX,1),this.touchStartX=e},touchEndCb:function(){this.isTouching=!1,this.audioEl.currentTime=this.currentTime,window.removeEventListener("touchmove",this.setCurTimeOnMove),window.removeEventListener("touchend",this.touchEndCb)},calcCurTime:function(t,e,n){var s,a=t-e,i=a/this.progressBarRect.width;switch(n){case 0:s=this.audioEl.duration*i;break;case 1:s=this.currentTime+this.audioEl.duration*i;break}return s<0?s=0:s>this.audioEl.duration&&(s=this.audioEl.duration),s}}},Pn=kn,In=(n("oNoV"),Object(h["a"])(Pn,wn,Sn,!1,null,"5425dd26",null)),xn=In.exports,Ln={name:"PlayerMax",components:{PlayerLyrics:Cn,PlayerProgress:xn,PlayButton:M,NextButton:R,PrevButton:K},computed:Object(r["a"])({},Object(l["d"])("player",["audioEl","isPlaying"]),Object(l["b"])("player",["songName","singerName","singerImg"]),{playerBgImg:function(){return"background-image:url(".concat(this.singerImg,");")}}),mounted:function(){this.replaceProperty({paths:"player.isPlayerMedShow",data:!1})},destroyed:function(){this.replaceProperty({paths:"player.isPlayerMedShow",data:!0}),this.replaceProperty({paths:"player.isPlayerMedSmall",data:!1})},methods:Object(r["a"])({},Object(l["c"])(["replaceProperty"]))},Mn=Ln,On=(n("ExvP"),Object(h["a"])(Mn,fn,gn,!1,null,"769719d3",null)),En=On.exports;s["a"].use(W["a"]);var jn=new W["a"]({routes:[{path:"/",component:It,children:[{path:"/",component:Vt},{path:"rank/list",component:re},{path:"song/list",component:pe},{path:"singer/category",component:ye}]},{path:"/rank/info/:id",component:Oe},{path:"/song/list/:id",component:Je},{path:"/singer/list/:id",component:tn},{path:"/singer/info/:id",component:on},{path:"/search/index",component:hn},{path:"/player/max",component:En,name:"PlayerMax"}]});jn.beforeEach(function(t,e,n){var s=t.query.musicHash;s&&!t.params.fromPlayerMed&&bt.commit("player/wantPlay",{musicHash:s}),n()});var An=n("4zOf");function Tn(t){var e=t.target;e.tagName&&"img"===e.tagName.toLowerCase()&&(e.src=An)}function Rn(){bt.commit("replaceProperty",{paths:"player.isPlayerMedSmall",data:!0})}function Nn(){bt.commit("replaceProperty",{paths:"player.isPlayerMedShow",data:window.innerHeight>.8*bt.state.device.vMax})}window.addEventListener("error",Tn,!0),window.addEventListener("scroll",Rn,!0),window.addEventListener("resize",Nn,!0);n("TuJu"),n("MhW3"),n("OhDf");s["a"].config.productionTip=!1,s["a"].prototype.window=window,new s["a"]({router:jn,store:bt,render:function(t){return t(q)}}).$mount("#app")},WdDJ:function(t,e,n){"use strict";var s=n("6N6I"),a=n.n(s);a.a},Wgyz:function(t,e,n){},WhAj:function(t,e,n){"use strict";var s=n("G6fP"),a=n.n(s);a.a},XtgU:function(t,e,n){},ZcYR:function(t,e,n){},"a83/":function(t,e){t.exports="data:image/png;base64,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"},h0jY:function(t,e,n){},h1ze:function(t,e,n){},h3ty:function(t,e,n){},jkM1:function(t,e,n){"use strict";var s=n("LgSe"),a=n.n(s);a.a},koh5:function(t,e,n){"use strict";var s=n("VKrM"),a=n.n(s);a.a},nWR2:function(t,e,n){t.exports=n.p+"static/img/logo.d488aa15.png"},oNoV:function(t,e,n){"use strict";var s=n("T1wy"),a=n.n(s);a.a},oPn7:function(t,e,n){},smZr:function(t,e,n){},soXW:function(t,e,n){"use strict";var s=n("XtgU"),a=n.n(s);a.a},wcme:function(t,e,n){}});
//# sourceMappingURL=app.aed334d1.js.map